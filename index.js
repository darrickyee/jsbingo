!function(){"use strict";
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const e=new WeakMap,t=t=>"function"==typeof t&&e.has(t),n="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,r=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},i={},o={},a=`{{lit-${String(Math.random()).slice(2)}}}`,s=`\x3c!--${a}--\x3e`,u=new RegExp(`${a}|${s}`);class c{constructor(e,t){this.parts=[],this.element=t;const n=[],r=[],i=document.createTreeWalker(t.content,133,null,!1);let o=0,s=-1,c=0;const{strings:l,values:{length:d}}=e;for(;c<d;){const e=i.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)p(t[e].name,"$lit$")&&r++;for(;r-- >0;){const t=l[c],n=f.exec(t)[2],r=n.toLowerCase()+"$lit$",i=e.getAttribute(r);e.removeAttribute(r);const o=i.split(u);this.parts.push({type:"attribute",index:s,name:n,strings:o}),c+=o.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),i.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(a)>=0){const r=e.parentNode,i=t.split(u),o=i.length-1;for(let t=0;t<o;t++){let n,o=i[t];if(""===o)n=h();else{const e=f.exec(o);null!==e&&p(e[2],"$lit$")&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),n=document.createTextNode(o)}r.insertBefore(n,e),this.parts.push({type:"node",index:++s})}""===i[o]?(r.insertBefore(h(),e),n.push(e)):e.data=i[o],c+=o}}else if(8===e.nodeType)if(e.data===a){const t=e.parentNode;null!==e.previousSibling&&s!==o||(s++,t.insertBefore(h(),e)),o=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(n.push(e),s--),c++}else{let t=-1;for(;-1!==(t=e.data.indexOf(a,t+1));)this.parts.push({type:"node",index:-1}),c++}}else i.currentNode=r.pop()}for(const e of n)e.parentNode.removeChild(e)}}const p=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},l=e=>-1!==e.index,h=()=>document.createComment(""),f=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class d{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=n?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let o,a=0,s=0,u=i.nextNode();for(;a<r.length;)if(o=r[a],l(o)){for(;s<o.index;)s++,"TEMPLATE"===u.nodeName&&(t.push(u),i.currentNode=u.content),null===(u=i.nextNode())&&(i.currentNode=t.pop(),u=i.nextNode());if("node"===o.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(u.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,o.name,o.strings,this.options));a++}else this.__parts.push(void 0),a++;return n&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const v=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),y=` ${a} `;class b{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],i=e.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===e.indexOf("--\x3e",i+1);const o=f.exec(e);t+=null===o?e+(n?y:s):e.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+a}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==v&&(t=v.createHTML(t)),e.innerHTML=t,e}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const g=e=>null===e||!("object"==typeof e||"function"==typeof e),m=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class _{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new w(this)}_getValue(){const e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=n[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!m(e))return e}let r="";for(let i=0;i<t;i++){r+=e[i];const t=n[i];if(void 0!==t){const e=t.value;if(g(e)||!m(e))r+="string"==typeof e?e:String(e);else for(const t of e)r+="string"==typeof t?t:String(t)}}return r+=e[t],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class w{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===i||g(e)&&e===this.value||(this.value=e,t(e)||(this.committer.dirty=!0))}commit(){for(;t(this.value);){const e=this.value;this.value=i,e(this)}this.value!==i&&this.committer.commit()}}class E{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(h()),this.endNode=e.appendChild(h())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=h()),e.__insert(this.endNode=h())}insertAfterPart(e){e.__insert(this.startNode=h()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;t(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i,e(this)}const e=this.__pendingValue;e!==i&&(g(e)?e!==this.value&&this.__commitText(e):e instanceof b?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):m(e)?this.__commitIterable(e):e===o?(this.value=o,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof d&&this.value.template===t)this.value.update(e.values);else{const n=new d(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const i of e)n=t[r],void 0===n&&(n=new E(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(i),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(e=this.startNode){r(this.startNode.parentNode,e.nextSibling,this.endNode)}}class O{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;t(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i,e(this)}if(this.__pendingValue===i)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=i}}class N extends _{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new S(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class S extends w{}let A=!1;(()=>{try{const e={get capture(){return A=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class V{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;t(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i,e(this)}if(this.__pendingValue===i)return;const e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),o=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=x(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=i}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const x=e=>e&&(A?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */;const P=new class{handleAttributeExpressions(e,t,n,r){const i=t[0];if("."===i){return new N(e,t.slice(1),n).parts}if("@"===i)return[new V(e,t.slice(1),r.eventContext)];if("?"===i)return[new O(e,t.slice(1),n)];return new _(e,t,n).parts}handleTextExpression(e){return new E(e)}};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */function D(e){let t=T.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},T.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(a);return n=t.keyString.get(r),void 0===n&&(n=new c(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const T=new Map,j=new WeakMap;
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const I=(e,...t)=>new b(e,t,"html",P);var C=[];Object.freeze(C);var k={};function R(){return++pt.mobxGuid}function L(e){throw z(!1,e),"X"}function z(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function M(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(k);var U=function(){};function H(e){return null!==e&&"object"==typeof e}function B(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function F(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function $(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function G(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return H(e)&&!0===e[n]}}function q(e){return e instanceof Map}function W(e){return e instanceof Set}function K(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function Y(e){return e&&e.toString?e.toString():new String(e).toString()}function J(e){return null===e?null:"object"==typeof e?""+e:e}var X="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Z=Symbol("mobx administration"),Q=function(){function e(e){void 0===e&&(e="Atom@"+R()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=De.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return yt(this)},e.prototype.reportChanged=function(){dt(),function(e){if(e.lowestObserverState===De.STALE)return;e.lowestObserverState=De.STALE,e.observers.forEach((function(t){t.dependenciesState===De.UP_TO_DATE&&(t.isTracing!==Te.NONE&&bt(t,e),t.onBecomeStale()),t.dependenciesState=De.STALE}))}(this),vt()},e.prototype.toString=function(){return this.name},e}(),ee=G("Atom",Q);function te(e,t,n){void 0===t&&(t=U),void 0===n&&(n=U);var r,i=new Q(e);return t!==U&&Rt("onBecomeObserved",i,t,r),n!==U&&kt(i,n),i}var ne={identity:function(e,t){return e===t},structural:function(e,t){return kn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return kn(e,t,1)}},re=function(e,t){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var ie=function(){return(ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function oe(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function ae(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function se(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ae(arguments[t]));return e}var ue=Symbol("mobx did run lazy initializers"),ce=Symbol("mobx pending decorators"),pe={},le={};function he(e,t){var n=t?pe:le;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return fe(this),this[e]},set:function(t){fe(this),this[e]=t}})}function fe(e){var t,n;if(!0!==e[ue]){var r=e[ce];if(r){F(e,ue,!0);var i=se(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=oe(i),a=o.next();!a.done;a=o.next()){var s=r[a.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}}function de(e,t){return function(){var n,r=function(r,i,o,a){if(!0===a)return t(r,i,o,r,n),null;if("production"===process.env.NODE_ENV||ve(arguments)||L("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(r,ce)){var s=r[ce];F(r,ce,ie({},s))}return r[ce][i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},he(i,e)};return ve(arguments)?(n=C,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function ve(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function ye(e,t,n){return qt(e)?e:Array.isArray(e)?xe.array(e,{name:n}):B(e)?xe.object(e,void 0,{name:n}):q(e)?xe.map(e,{name:n}):W(e)?xe.set(e,{name:n}):e}function be(e){return e}function ge(e){z(e);var t=de(!0,(function(t,n,r,i,o){"production"!==process.env.NODE_ENV&&z(!r||!r.get,'@observable cannot be used on getter (property "'+Y(n)+'"), use @computed instead.');var a=r?r.initializer?r.initializer.call(t):r.value:void 0;Sn(t).addObservableProp(n,a,e)})),n="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?L("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var me={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function _e(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||L("invalid option for (extend)observable: "+e)}function we(e){if(null==e)return me;if("string"==typeof e)return{name:e,deep:!0,proxy:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof e)return L("expected options object");Object.keys(e).forEach(_e)}return e}Object.freeze(me);var Ee=ge(ye),Oe=ge((function(e,t,n){return null==e||Dn(e)||yn(e)||_n(e)||On(e)?e:Array.isArray(e)?xe.array(e,{name:n,deep:!1}):B(e)?xe.object(e,void 0,{name:n,deep:!1}):q(e)?xe.map(e,{name:n,deep:!1}):W(e)?xe.set(e,{name:n,deep:!1}):L("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),Ne=ge(be),Se=ge((function(e,t,n){if("production"!==process.env.NODE_ENV&&qt(e))throw"observable.struct should not be used with observable values";return kn(e,t)?t:e}));function Ae(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?be:ye}var Ve={box:function(e,t){arguments.length>2&&Pe("box");var n=we(t);return new nt(e,Ae(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Pe("array");var n=we(t);return ln(e,Ae(n),n.name)},map:function(e,t){arguments.length>2&&Pe("map");var n=we(t);return new mn(e,Ae(n),n.name)},set:function(e,t){arguments.length>2&&Pe("set");var n=we(t);return new En(e,Ae(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&Pe("object");var r=we(n);if(!1===r.proxy)return Lt({},e,t,r);var i=zt(r),o=Lt({},void 0,void 0,r),a=nn(o);return Mt(a,e,t,i),a},ref:Ne,shallow:Oe,deep:Ee,struct:Se},xe=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return Ee.apply(null,arguments);if(qt(e))return e;var r=B(e)?xe.object(e,t,n):Array.isArray(e)?xe.array(e,t):q(e)?xe.map(e,t):W(e)?xe.set(e,t):e;if(r!==e)return r;L("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function Pe(e){L("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Ve).forEach((function(e){return xe[e]=Ve[e]}));var De,Te,je=de(!1,(function(e,t,n,r,i){"production"!==process.env.NODE_ENV&&z(n&&n.get,"Trying to declare a computed value for unspecified getter '"+Y(t)+"'");var o=n.get,a=n.set,s=i[0]||{};Sn(e).addComputedProp(e,t,ie({get:o,set:a,context:e},s))})),Ie=je({equals:ne.structural}),Ce=function(e,t,n){if("string"==typeof t)return je.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return je.apply(null,arguments);"production"!==process.env.NODE_ENV&&(z("function"==typeof e,"First argument to `computed` should be an expression."),z(arguments.length<3,"Computed takes one or two arguments if used as function"));var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new it(r)};Ce.struct=Ie,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(De||(De={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Te||(Te={}));var ke=function(e){this.cause=e};function Re(e){return e instanceof ke}function Le(e){switch(e.dependenciesState){case De.UP_TO_DATE:return!1;case De.NOT_TRACKING:case De.STALE:return!0;case De.POSSIBLY_STALE:for(var t=$e(!0),n=Be(),r=e.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(ot(a)){if(pt.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return Fe(n),Ge(t),!0}if(e.dependenciesState===De.STALE)return Fe(n),Ge(t),!0}}return qe(e),Fe(n),Ge(t),!1}}function ze(e){var t=e.observers.size>0;pt.computationDepth>0&&t&&L("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),pt.allowStateChanges||!t&&"strict"!==pt.enforceActions||L("production"!==process.env.NODE_ENV&&(pt.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function Me(e,t,n){var r=$e(!0);qe(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++pt.runId;var i,o=pt.trackingDerivation;if(pt.trackingDerivation=e,!0===pt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new ke(e)}return pt.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=De.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,e.newObserving=null,o=t.length;for(;o--;){0===(s=t[o]).diffValue&&ht(s,e),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,lt(s,e))}r!==De.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),function(e){if("production"===process.env.NODE_ENV)return;if(0!==e.observing.length)return;(pt.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}(e),Ge(r),i}function Ue(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)ht(t[n],e);e.dependenciesState=De.NOT_TRACKING}function He(e){var t=Be();try{return e()}finally{Fe(t)}}function Be(){var e=pt.trackingDerivation;return pt.trackingDerivation=null,e}function Fe(e){pt.trackingDerivation=e}function $e(e){var t=pt.allowStateReads;return pt.allowStateReads=e,t}function Ge(e){pt.allowStateReads=e}function qe(e){if(e.dependenciesState!==De.UP_TO_DATE){e.dependenciesState=De.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=De.UP_TO_DATE}}var We=0,Ke=1,Ye=Object.getOwnPropertyDescriptor((function(){}),"name"),Je=Ye&&Ye.configurable;function Xe(e,t,n){"production"!==process.env.NODE_ENV&&(z("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||L("actions should have valid names, got: '"+e+"'"));var r=function(){return Ze(e,t,n||this,arguments)};return r.isMobxAction=!0,"production"!==process.env.NODE_ENV&&Je&&Object.defineProperty(r,"name",{value:e}),r}function Ze(e,t,n,r){var i=function(e,t,n){var r=Et()&&!!e,i=0;if(r&&"production"!==process.env.NODE_ENV){i=Date.now();var o=n&&n.length||0,a=new Array(o);if(o>0)for(var s=0;s<o;s++)a[s]=n[s];Nt({type:"action",name:e,object:t,arguments:a})}var u=Be();dt();var c=Qe(!0),p=$e(!0),l={prevDerivation:u,prevAllowStateChanges:c,prevAllowStateReads:p,notifySpy:r,startTime:i,actionId:Ke++,parentActionId:We};return We=l.actionId,l}(e,n,r);try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{!function(e){We!==e.actionId&&L("invalid action stack. did you forget to finish an action?");We=e.parentActionId,void 0!==e.error&&(pt.suppressReactionErrors=!0);et(e.prevAllowStateChanges),Ge(e.prevAllowStateReads),vt(),Fe(e.prevDerivation),e.notifySpy&&"production"!==process.env.NODE_ENV&&At({time:Date.now()-e.startTime});pt.suppressReactionErrors=!1}(i)}}function Qe(e){var t=pt.allowStateChanges;return pt.allowStateChanges=e,t}function et(e){pt.allowStateChanges=e}function tt(e){var t,n=pt.computationDepth;pt.computationDepth=0;try{t=e()}finally{pt.computationDepth=n}return t}var nt=function(e){function t(t,n,r,i,o){void 0===r&&(r="ObservableValue@"+R()),void 0===i&&(i=!0),void 0===o&&(o=ne.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),i&&Et()&&"production"!==process.env.NODE_ENV&&Ot({type:"create",name:a.name,newValue:""+a.value}),a}return function(e,t){function n(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==pt.UNCHANGED){var n=Et();n&&"production"!==process.env.NODE_ENV&&Nt({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&"production"!==process.env.NODE_ENV&&At()}},t.prototype.prepareNewValue=function(e){if(ze(this),rn(this)){var t=an(this,{object:this,type:"update",newValue:e});if(!t)return pt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?pt.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),sn(this)&&cn(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return on(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),un(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return J(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Q),rt=G("ObservableValue",nt),it=function(){function e(e){this.dependenciesState=De.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=De.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+R(),this.value=new ke(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Te.NONE,z(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+R(),e.set&&(this.setter=Xe(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?ne.structural:ne.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==De.UP_TO_DATE)return;e.lowestObserverState=De.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===De.UP_TO_DATE&&(t.dependenciesState=De.POSSIBLY_STALE,t.isTracing!==Te.NONE&&bt(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&L("Cycle detected in computation "+this.name+": "+this.derivation),0!==pt.inBatch||0!==this.observers.size||this.keepAlive?(yt(this),Le(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===De.STALE)return;e.lowestObserverState=De.STALE,e.observers.forEach((function(t){t.dependenciesState===De.POSSIBLY_STALE?t.dependenciesState=De.STALE:t.dependenciesState===De.UP_TO_DATE&&(e.lowestObserverState=De.UP_TO_DATE)}))}(this)):Le(this)&&(this.warnAboutUntrackedRead(),dt(),this.value=this.computeValue(!1),vt());var e=this.value;if(Re(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Re(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){z(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else z(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){Et()&&"production"!==process.env.NODE_ENV&&Ot({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===De.NOT_TRACKING,n=this.computeValue(!0),r=t||Re(e)||Re(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,pt.computationDepth++,e)t=Me(this,this.derivation,this.scope);else if(!0===pt.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new ke(e)}return pt.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(Ue(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return jt((function(){var o=n.get();if(!r||t){var a=Be();e({type:"update",object:n,newValue:o,oldValue:i}),Fe(a)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&L("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==Te.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),pt.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return J(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),ot=G("ComputedValue",it),at=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},st={};function ut(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:st}var ct=!0,pt=function(){var e=ut();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ct=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new at).version&&(ct=!1),ct?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new at):(setTimeout((function(){L("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new at)}();function lt(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function ht(e,t){e.observers.delete(t),0===e.observers.size&&ft(e)}function ft(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,pt.pendingUnobservations.push(e))}function dt(){pt.inBatch++}function vt(){if(0==--pt.inBatch){mt();for(var e=pt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof it&&n.suspend())}pt.pendingUnobservations=[]}}function yt(e){!function(e){"production"!==process.env.NODE_ENV&&!pt.allowStateReads&&pt.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}(e);var t=pt.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&pt.inBatch>0&&ft(e),!1)}function bt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Te.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}((r=e,Ut(Tn(r,i))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof it?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,i}var gt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+R()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=De.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+R(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Te.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,pt.pendingReactions.push(this),mt())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(dt(),this._isScheduled=!1,Le(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Et()&&"production"!==process.env.NODE_ENV&&Ot({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}vt()}},e.prototype.track=function(e){if(!this.isDisposed){dt();var t,n=Et();n&&"production"!==process.env.NODE_ENV&&(t=Date.now(),Nt({name:this.name,type:"reaction"})),this._isRunning=!0;var r=Me(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ue(this),Re(r)&&this.reportExceptionInDerivation(r.cause),n&&"production"!==process.env.NODE_ENV&&At({time:Date.now()-t}),vt()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(pt.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";pt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Et()&&Ot({type:"error",name:this.name,message:n,error:""+e}),pt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(dt(),Ue(this),vt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[Z]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=Xt(e);if(!r)return L("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===Te.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Te.BREAK:Te.LOG}(this,e)},e}();function mt(){pt.inBatch>0||pt.isRunningReactions||_t()}function _t(){pt.isRunningReactions=!0;for(var e=pt.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}pt.isRunningReactions=!1}var wt=G("Reaction",gt);function Et(){return"production"!==process.env.NODE_ENV&&!!pt.spyListeners.length}function Ot(e){if("production"!==process.env.NODE_ENV&&pt.spyListeners.length)for(var t=pt.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Nt(e){"production"!==process.env.NODE_ENV&&Ot(ie(ie({},e),{spyReportStart:!0}))}var St={spyReportEnd:!0};function At(e){"production"!==process.env.NODE_ENV&&Ot(e?ie(ie({},e),{spyReportEnd:!0}):St)}function Vt(){L("production"!==process.env.NODE_ENV&&"@action fields are not reassignable")}function xt(e){return function(t,n,r){if(r){if("production"!==process.env.NODE_ENV&&void 0!==r.get)return L("@action cannot be used with getters");if(r.value)return{value:Xe(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xe(e,i.call(this))}}}return Pt(e).apply(this,arguments)}}function Pt(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){F(this,n,Dt(e,t))}})}}var Dt=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Xe(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Xe(e,t):1===arguments.length&&"string"==typeof e?xt(e):!0!==r?xt(t).apply(null,arguments):void F(e,t,Xe(e.name||t,n.value,this))};function Tt(e,t,n){F(e,t,Xe(t,n.bind(e)))}function jt(e,t){var n;void 0===t&&(t=k),"production"!==process.env.NODE_ENV&&(z("function"==typeof e,"Autorun expects a function as first argument"),z(!1==("function"==typeof(n=e)&&!0===n.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var r,i=t&&t.name||e.name||"Autorun@"+R();if(!t.scheduler&&!t.delay)r=new gt(i,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var o=Ct(t),a=!1;r=new gt(i,(function(){a||(a=!0,o((function(){a=!1,r.isDisposed||r.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(r)}return r.schedule(),r.getDisposer()}Dt.bound=function(e,t,n,r){return!0===r?(Tt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Tt(this,t,n.value||n.initializer.call(this)),this[t]},set:Vt}:{enumerable:!1,configurable:!0,set:function(e){Tt(this,t,e)},get:function(){}}};var It=function(e){return e()};function Ct(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:It}function kt(e,t,n){return Rt("onBecomeUnobserved",e,t,n)}function Rt(e,t,n,r){var i="function"==typeof r?Tn(t,n):Tn(t),o="function"==typeof r?r:n,a=e+"Listeners";return i[a]?i[a].add(o):i[a]=new Set([o]),"function"!=typeof i[e]?L("production"!==process.env.NODE_ENV&&"Not an atom that can be (un)observed"):function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}function Lt(e,t,n,r){"production"!==process.env.NODE_ENV&&(z(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),z("object"==typeof e,"'extendObservable' expects an object as first argument"),z(!_n(e),"'extendObservable' should not be used on maps, use map.merge instead"));var i=zt(r=we(r));return fe(e),Sn(e,r.name,i.enhancer),t&&Mt(e,t,n,i),e}function zt(e){return e.defaultDecorator||(!1===e.deep?Ne:Ee)}function Mt(e,t,n,r){var i,o,a,s;if("production"!==process.env.NODE_ENV&&(z(!qt(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n)){var u=K(n);try{for(var c=oe(u),p=c.next();!p.done;p=c.next()){(f=p.value)in t||L("Trying to declare a decorator for unspecified property '"+Y(f)+"'")}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}dt();try{u=X(t);try{for(var l=oe(u),h=l.next();!h.done;h=l.next()){var f=h.value,d=Object.getOwnPropertyDescriptor(t,f);"production"!==process.env.NODE_ENV&&(B(t)||L("'extendObservable' only accepts plain objects as second argument"),$t(d.value)&&L("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var v=n&&f in n?n[f]:d.get?je:r;"production"!==process.env.NODE_ENV&&"function"!=typeof v&&L("Not a valid decorator for '"+Y(f)+"', got: "+v);var y=v(e,f,d,!0);y&&Object.defineProperty(e,f,y)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}}finally{vt()}}function Ut(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(Ut)),r}function Ht(e,t,n){var r;if(_n(e)||yn(e)||rt(e))r=jn(e);else{if(!Dn(e))return L("production"!==process.env.NODE_ENV&&"Expected observable map, object or array as first array");if("string"!=typeof t)return L("production"!==process.env.NODE_ENV&&"InterceptReads can only be used with a specific property, not with an object in general");r=jn(e,t)}return void 0!==r.dehancer?L("production"!==process.env.NODE_ENV&&"An intercept reader was already established"):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}function Bt(e,t,n){return"function"==typeof n?function(e,t,n){return jn(e,t).intercept(n)}(e,t,n):function(e,t){return jn(e).intercept(t)}(e,t)}function Ft(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Dn(e))return!1;if(!e[Z].values.has(t))return!1;var n=Tn(e,t);return ot(n)}return ot(e)}function $t(e){return arguments.length>1?L("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):Ft(e)}function Gt(e,t){return null!=e&&(void 0!==t?"production"!==process.env.NODE_ENV&&(_n(e)||yn(e))?L("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!Dn(e)&&e[Z].values.has(t):Dn(e)||!!e[Z]||ee(e)||wt(e)||ot(e))}function qt(e){return 1!==arguments.length&&L("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Gt(e)}function Wt(e){return Dn(e)?e[Z].getKeys():_n(e)||On(e)?Array.from(e.keys()):yn(e)?e.map((function(e,t){return t})):L("production"!==process.env.NODE_ENV&&"'keys()' can only be used on observable objects, arrays, sets and maps")}function Kt(e){return Dn(e)?Wt(e).map((function(t){return e[t]})):_n(e)?Wt(e).map((function(t){return e.get(t)})):On(e)?Array.from(e.values()):yn(e)?e.slice():L("production"!==process.env.NODE_ENV&&"'values()' can only be used on observable objects, arrays, sets and maps")}function Yt(e,t,n){if(2!==arguments.length||On(e))if(Dn(e)){var r=e[Z],i=r.values.get(t);i?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(_n(e))e.set(t,n);else if(On(e))e.add(t);else{if(!yn(e))return L("production"!==process.env.NODE_ENV&&"'set()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),z(t>=0,"Not a valid index: '"+t+"'"),dt(),t>=e.length&&(e.length=t+1),e[t]=n,vt()}else{dt();var o=t;try{for(var a in o)Yt(e,a,o[a])}finally{vt()}}}function Jt(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return jn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return jn(e).observe(t,n)}(e,t,n)}function Xt(e){switch(e.length){case 0:return pt.trackingDerivation;case 1:return Tn(e[0]);case 2:return Tn(e[0],e[1])}}function Zt(e,t){void 0===t&&(t=void 0),dt();try{return e.apply(t)}finally{vt()}}function Qt(e){return e[Z]}function en(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var tn={has:function(e,t){if(t===Z||"constructor"===t||t===ue)return!0;var n=Qt(e);return en(t)?n.has(t):t in e},get:function(e,t){if(t===Z||"constructor"===t||t===ue)return e[t];var n=Qt(e),r=n.values.get(t);if(r instanceof Q){var i=r.get();return void 0===i&&n.has(t),i}return en(t)&&n.has(t),e[t]},set:function(e,t,n){return!!en(t)&&(Yt(e,t,n),!0)},deleteProperty:function(e,t){return!!en(t)&&(Qt(e).remove(t),!0)},ownKeys:function(e){return Qt(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return L("Dynamic observable objects cannot be frozen"),!1}};function nn(e){var t=new Proxy(e,tn);return e[Z].proxy=t,t}function rn(e){return void 0!==e.interceptors&&e.interceptors.length>0}function on(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),M((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function an(e,t){var n=Be();try{for(var r=se(e.interceptors||[]),i=0,o=r.length;i<o&&(z(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{Fe(n)}}function sn(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function un(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),M((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function cn(e,t){var n=Be(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);Fe(n)}}var pn={get:function(e,t){return t===Z?e[Z]:"length"===t?e[Z].getArrayLength():"number"==typeof t?fn.get.call(e,t):"string"!=typeof t||isNaN(t)?fn.hasOwnProperty(t)?fn[t]:e[t]:fn.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[Z].setArrayLength(n),"number"==typeof t&&fn.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:fn.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return L("Observable arrays cannot be frozen"),!1}};function ln(e,t,n,r){void 0===n&&(n="ObservableArray@"+R()),void 0===r&&(r=!1);var i,o,a,s=new hn(n,t,r);i=s.values,o=Z,a=s,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(s.values,pn);if(s.proxy=u,e&&e.length){var c=Qe(!0);s.spliceWithArray(0,0,e),et(c)}return u}var hn=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Q(e||"ObservableArray@"+R()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return on(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),un(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;ze(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=C),rn(this)){var o=an(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!o)return C;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)})),"production"!==process.env.NODE_ENV){var a=n.length-t;this.updateArrayLength(i,a)}var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,se([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&Et(),i=sn(this),o=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;r&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&cn(this,o),r&&"production"!==process.env.NODE_ENV&&At()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&Et(),i=sn(this),o=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&cn(this,o),r&&"production"!==process.env.NODE_ENV&&At()},e}(),fn={intercept:function(e){return this[Z].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[Z].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[Z];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[Z];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[Z].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[Z];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[Z].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[Z];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[Z],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[Z];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[Z],r=n.values;if(e<r.length){ze(n.atom);var i=r[e];if(rn(n)){var o=an(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(fn[e]=function(){var t=this[Z];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(fn[e]=function(t,n){var r=this,i=this[Z];return i.atom.reportObserved(),i.dehanceValues(i.values)[e]((function(e,i){return t.call(n,e,i,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){fn[e]=function(t,n){var r=this,i=this[Z];return i.atom.reportObserved(),i.values[e]((function(e,n,o){return n=i.dehanceValue(n),t(e,n,o,r)}),n)}}));var dn,vn=G("ObservableArrayAdministration",hn);function yn(e){return H(e)&&vn(e[Z])}var bn,gn={},mn=function(){function e(e,t,n){if(void 0===t&&(t=ye),void 0===n&&(n="ObservableMap@"+R()),this.enhancer=t,this.name=n,this[dn]=gn,this._keysAtom=te(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!pt.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new nt(this._has(e),be,this.name+"."+Y(e)+"?",!1);this._hasMap.set(e,r),kt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(rn(this)){var r=an(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((ze(this._keysAtom),rn(this))&&!(i=an(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Et(),r=sn(this),i=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},i),{name:this.name,key:e})),Zt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&cn(this,i),n&&"production"!==process.env.NODE_ENV&&At(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==pt.UNCHANGED){var r=Et(),i=sn(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},o),{name:this.name,key:e})),n.setNewValue(t),i&&cn(this,o),r&&"production"!==process.env.NODE_ENV&&At()}},e.prototype._addValue=function(e,t){var n=this;ze(this._keysAtom),Zt((function(){var r=new nt(t,n.enhancer,n.name+"."+Y(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=Et(),i=sn(this),o=i||r?{type:"add",object:this,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},o),{name:this.name,key:e})),i&&cn(this,o),r&&"production"!==process.env.NODE_ENV&&At()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return zn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return zn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},e.prototype[(dn=Z,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var i=oe(this),o=i.next();!o.done;o=i.next()){var a=ae(o.value,2),s=a[0],u=a[1];e.call(t,u,s,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return _n(e)&&(e=e.toJS()),Zt((function(){var n=Qe(!0);try{B(e)?K(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=ae(e,2),r=n[0],i=n[1];return t.set(r,i)})):q(e)?(e.constructor!==Map&&L("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&L("Cannot initialize map from "+e)}finally{et(n)}})),this},e.prototype.clear=function(){var e=this;Zt((function(){He((function(){var t,n;try{for(var r=oe(e.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return Zt((function(){var n,r,i,o,a=function(e){if(q(e)||_n(e))return e;if(Array.isArray(e))return new Map(e);if(B(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return L("Cannot convert to map from '"+e+"'")}(e),s=new Map,u=!1;try{for(var c=oe(t._data.keys()),p=c.next();!p.done;p=c.next()){var l=p.value;if(!a.has(l))if(t.delete(l))u=!0;else{var h=t._data.get(l);s.set(l,h)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var f=oe(a.entries()),d=f.next();!d.done;d=f.next()){var v=ae(d.value,2),y=(l=v[0],h=v[1],t._data.has(l));if(t.set(l,h),t._data.has(l)){var b=t._data.get(l);s.set(l,b),y||(u=!0)}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}if(!u)if(t._data.size!==s.size)t._keysAtom.reportChanged();else for(var g=t._data.keys(),m=s.keys(),_=g.next(),w=m.next();!_.done;){if(_.value!==w.value){t._keysAtom.reportChanged();break}_=g.next(),w=m.next()}t._data=s})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=oe(this),i=r.next();!i.done;i=r.next()){var o=ae(i.value,2),a=o[0],s=o[1];n["symbol"==typeof a?a:Y(a)]=s}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return Y(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&z(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),un(this,e)},e.prototype.intercept=function(e){return on(this,e)},e}(),_n=G("ObservableMap",mn),wn={},En=function(){function e(e,t,n){if(void 0===t&&(t=ye),void 0===n&&(n="ObservableSet@"+R()),this.name=n,this[bn]=wn,this._data=new Set,this._atom=te(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Zt((function(){He((function(){var t,n;try{for(var r=oe(e._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var i=oe(this),o=i.next();!o.done;o=i.next()){var a=o.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((ze(this._atom),rn(this))&&!(i=an(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Zt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=Et(),r=sn(this),i=r||n?{type:"add",object:this,newValue:e}:null;n&&"production"!==process.env.NODE_ENV&&Nt(i),r&&cn(this,i),n&&"production"!==process.env.NODE_ENV&&At()}return this},e.prototype.delete=function(e){var t=this;if(rn(this)&&!(i=an(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Et(),r=sn(this),i=r||n?{type:"delete",object:this,oldValue:e}:null;return n&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},i),{name:this.name})),Zt((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&cn(this,i),n&&"production"!==process.env.NODE_ENV&&At(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return zn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return zn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return On(e)&&(e=e.toJS()),Zt((function(){var n=Qe(!0);try{Array.isArray(e)||W(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&L("Cannot initialize set from "+e)}finally{et(n)}})),this},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&z(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),un(this,e)},e.prototype.intercept=function(e){return on(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(bn=Z,Symbol.iterator)]=function(){return this.values()},e}(),On=G("ObservableSet",En),Nn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new Q(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof it)r.set(t);else{if(rn(this)){if(!(a=an(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=a.newValue}if((t=r.prepareNewValue(t))!==pt.UNCHANGED){var i=sn(this),o=Et(),a=i||o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;o&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},a),{name:this.name,key:e})),r.setNewValue(t),i&&cn(this,a),o&&"production"!==process.env.NODE_ENV&&At()}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new nt(r,be,this.name+"."+Y(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r,i,o=this.target;if(r=o,i=e,"production"===process.env.NODE_ENV||$(r,i)||L("Cannot make property '"+i.toString()+"' observable, it is not configurable and writable in the target object"),rn(this)){var a=an(this,{object:this.proxy||o,name:e,type:"add",newValue:t});if(!a)return;t=a.newValue}var s=new nt(t,n,this.name+"."+Y(e),!1);this.values.set(e,s),t=s.value,Object.defineProperty(o,e,function(e){return An[e]||(An[e]={configurable:!0,enumerable:!0,get:function(){return this[Z].read(e)},set:function(t){this[Z].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+Y(t),this.values.set(t,new it(n)),(e===r||$(e,t))&&Object.defineProperty(e,t,function(e){return Vn[e]||(Vn[e]={configurable:pt.computedConfigurable,enumerable:!1,get:function(){return xn(this).read(e)},set:function(t){xn(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(rn(this))if(!(s=an(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{dt();var n=sn(this),r=Et(),i=this.values.get(e),o=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!1)}delete this.target[e];var s=n||r?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;r&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},s),{name:this.name,key:e})),n&&cn(this,s),r&&"production"!==process.env.NODE_ENV&&At()}finally{vt()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&z(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),un(this,e)},e.prototype.intercept=function(e){return on(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=sn(this),r=Et(),i=n||r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&"production"!==process.env.NODE_ENV&&Nt(ie(ie({},i),{name:this.name,key:e})),n&&cn(this,i),r&&"production"!==process.env.NODE_ENV&&At(),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=oe(this.values),i=r.next();!i.done;i=r.next()){var o=ae(i.value,2),a=o[0];o[1]instanceof nt&&n.push(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Sn(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=ye),Object.prototype.hasOwnProperty.call(e,Z))return e[Z];"production"!==process.env.NODE_ENV&&z(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),B(e)||(t=(e.constructor.name||"ObservableObject")+"@"+R()),t||(t="ObservableObject@"+R());var r=new Nn(e,new Map,Y(t),n);return F(e,Z,r),r}var An=Object.create(null),Vn=Object.create(null);function xn(e){var t=e[Z];return t||(fe(e),e[Z])}var Pn=G("ObservableObjectAdministration",Nn);function Dn(e){return!!H(e)&&(fe(e),Pn(e[Z]))}function Tn(e,t){if("object"==typeof e&&null!==e){if(yn(e))return void 0!==t&&L("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e[Z].atom;if(On(e))return e[Z];if(_n(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||L("production"!==process.env.NODE_ENV&&"the entry '"+t+"' does not exist in the observable map '"+In(e)+"'"),r)}var r;if(fe(e),t&&!e[Z]&&e[t],Dn(e))return t?((r=e[Z].values.get(t))||L("production"!==process.env.NODE_ENV&&"no observable property '"+t+"' found on the observable object '"+In(e)+"'"),r):L("production"!==process.env.NODE_ENV&&"please specify a property");if(ee(e)||ot(e)||wt(e))return e}else if("function"==typeof e&&wt(e[Z]))return e[Z];return L("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+e)}function jn(e,t){return e||L("Expecting some object"),void 0!==t?jn(Tn(e,t)):ee(e)||ot(e)||wt(e)||_n(e)||On(e)?e:(fe(e),e[Z]?e[Z]:void L("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+e))}function In(e,t){return(void 0!==t?Tn(e,t):Dn(e)||_n(e)||On(e)?jn(e):Tn(e)).name}var Cn=Object.prototype.toString;function kn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var s=Cn.call(t);if(s!==Cn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=Rn(t),n=Rn(n);var u="[object Array]"===s;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,p=n.constructor;if(c!==p&&!("function"==typeof c&&c instanceof c&&"function"==typeof p&&p instanceof p)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var l=(i=i||[]).length;for(;l--;)if(i[l]===t)return o[l]===n;if(i.push(t),o.push(n),u){if((l=t.length)!==n.length)return!1;for(;l--;)if(!e(t[l],n[l],r-1,i,o))return!1}else{var h=Object.keys(t),f=void 0;if(l=h.length,Object.keys(n).length!==l)return!1;for(;l--;)if(f=h[l],!Ln(n,f)||!e(t[f],n[f],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function Rn(e){return yn(e)?e.slice():q(e)||_n(e)||W(e)||On(e)?Array.from(e.entries()):e}function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zn(e){return e[Symbol.iterator]=Mn,e}function Mn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{process.env.NODE_ENV}catch(e){var Un=ut();"undefined"==typeof process&&(Un.process={}),Un.process.env={}}!function(){if("testCodeMinification"!==function(){}.name&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof process&&"true"!==process.env.IGNORE_MOBX_MINIFY_WARNING){var e=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+e+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}(),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return"production"===process.env.NODE_ENV?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(pt.spyListeners.push(e),M((function(){pt.spyListeners=pt.spyListeners.filter((function(t){return t!==e}))})))},extras:{getDebugName:In},$mobx:Z});var Hn;!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(Hn||(Hn={}));
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Bn=function(e,t){return(Bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Fn(e,t){function n(){this.constructor=e}Bn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $n=function(){return($n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Gn(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function qn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Kn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wn(arguments[t]));return e}function Yn(e){return Dr(e,1),Tr(e).type}function Jn(e,t){Dr(e,1),ti(t,(function(e){return"object"==typeof e}),"object or array",2),Tr(e).applyPatches(Fr(t))}function Xn(e,t){void 0===t&&(t=!0),Dr(e,1);var n=Tr(e);return t?n.snapshot:Wr(n.type.getSnapshot(n,!1))}function Zn(e){return Dr(e,1),Tr(e).root.storedValue}var Qn,er=function(){function e(e,t,n,r){this.type=e,this.environment=r,this._state=Nr.INITIALIZING,this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),e.prototype.fireInternalHook=function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)},e.prototype.registerHook=function(e,t){return this._hookSubscribers||(this._hookSubscribers=new Xr),this._hookSubscribers.register(e,t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),e.prototype.baseSetParent=function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()},Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),e.prototype.getEscapedPath=function(e){return e&&(this.pathAtom||(this.pathAtom=te("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?ai(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""},Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Nr.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Nr.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=te("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),e.prototype.baseFinalizeCreation=function(e){if(ei()&&!this.isAlive)throw fail("assertion failed: cannot finalize the creation of a node that is already dead");if(this.state===Nr.CREATED){if(this.parent){if(this.parent.state!==Nr.FINALIZED)return;this.fireHook(Hn.afterAttach)}this.state=Nr.FINALIZED,e&&e()}},e.prototype.baseFinalizeDeath=function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Nr.DEAD},e.prototype.baseAboutToDie=function(){this.fireHook(Hn.beforeDestroy)},e}(),tr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(e){throw a.state=Nr.DEAD,e}return a.state=Nr.CREATED,a.finalizeCreation(),a}return Fn(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw Mr("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),t.prototype.setParent=function(e,t){var n=this.parent!==e,r=this.subpath!==t;if(n||r){if(ei()){if(!t)throw Mr("assertion failed: subpath expected");if(!e)throw Mr("assertion failed: parent expected");if(n)throw Mr("assertion failed: scalar nodes cannot change their parent")}this.environment=void 0,this.baseSetParent(this.parent,t)}},Object.defineProperty(t.prototype,"snapshot",{get:function(){return Wr(this.getSnapshot())},enumerable:!1,configurable:!0}),t.prototype.getSnapshot=function(){return this.type.getSnapshot(this)},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")},t.prototype.die=function(){this.isAlive&&this.state!==Nr.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.finalizeCreation=function(){this.baseFinalizeCreation()},t.prototype.aboutToDie=function(){this.baseAboutToDie()},t.prototype.finalizeDeath=function(){this.baseFinalizeDeath()},t.prototype.fireHook=function(e){this.fireInternalHook(e)},Gn([Dt],t.prototype,"die",null),t}(er),nr=1,rr={onError:function(e){throw e}},ir=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;if(a.nodeId=++nr,a.isProtectionEnabled=!0,a._autoUnbox=!0,a._isRunningAction=!1,a._hasSnapshotReaction=!1,a._observableInstanceState=0,a._cachedInitialSnapshotCreated=!1,a.unbox=a.unbox.bind(a),a._initialSnapshot=Wr(o),a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new Ar),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s){var u=a._childNodes[a.identifierAttribute];u&&(s=u.value)}if("string"!=typeof s&&"number"!=typeof s)throw Mr("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=ro(s),a.unnormalizedIdentifier=s}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return Fn(t,e),t.prototype.applyPatches=function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)},t.prototype.applySnapshot=function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)},t.prototype.createObservableInstanceIfNeeded=function(){0===this._observableInstanceState&&this.createObservableInstance()},t.prototype.createObservableInstance=function(){var e,t;if(ei()&&this.state!==Nr.INITIALIZING)throw Mr("assertion failed: the creation of the observable instance must be done on the initializing phase");this._observableInstanceState=1;for(var n=[],r=this.parent;r&&0===r._observableInstanceState;)n.unshift(r),r=r.parent;try{for(var i=qn(n),o=i.next();!o.done;o=i.next()){o.value.createObservableInstanceIfNeeded()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var a=this.type;try{this.storedValue=a.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,a.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=Nr.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,Tn(this,"snapshot").trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=Lr,this.state=Nr.CREATED,this.fireHook(Hn.afterCreate),this.finalizeCreation()},Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),t.prototype.clearParent=function(){if(this.parent){this.fireHook(Hn.beforeDetach);var e=this.state;this.state=Nr.DETACHING;var t=this.root,n=t.environment,r=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=e}}},t.prototype.setParent=function(e,t){var n=e!==this.parent,r=t!==this.subpath;if(n||r){if(ei()){if(!t)throw Mr("assertion failed: subpath expected");if(!e)throw Mr("assertion failed: new parent expected");if(this.parent&&n)throw Mr("A node cannot exists twice in the state tree. Failed to add "+this+" to path '"+e.path+"/"+t+"'.");if(!this.parent&&e.root===this)throw Mr("A state tree is not allowed to contain itself. Cannot assign "+this+" to path '"+e.path+"/"+t+"'");if(!this.parent&&this.environment&&this.environment!==e.root.environment)throw Mr("A state tree cannot be made part of another state tree as long as their environments are different.")}n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(Hn.afterAttach)):r&&this.baseSetParent(this.parent,t)}},t.prototype.fireHook=function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(tt?tt((function(){n.apply(t.storedValue)})):n.apply(this.storedValue))},Object.defineProperty(t.prototype,"snapshot",{get:function(){return Wr(this.getSnapshot())},enumerable:!1,configurable:!0}),t.prototype.getSnapshot=function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath},t.prototype._getActualSnapshot=function(){return this.type.getSnapshot(this)},t.prototype._getCachedInitialSnapshot=function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot},t.prototype.isRunningAction=function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()},t.prototype.assertAlive=function(e){var t;if(!this.isAlive){var n=this._getAssertAliveError(e);t=n,console.warn(new Error("[mobx-state-tree] "+t))}},t.prototype._getAssertAliveError=function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&ai(e.subpath)||"",r=e.actionContext||pr;r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var i,o="";r&&null!=r.name&&(o=(r&&r.context&&(Dr(i=r.context,1),Tr(i).path)||t)+"."+r.name+"()");return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+o+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."},t.prototype.getChildNode=function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}},t.prototype.getChildren=function(){this.assertAlive(Lr),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):kr(this._childNodes)}finally{this._autoUnbox=!0}},t.prototype.getChildType=function(e){return this.type.getChildType(e)},Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),t.prototype.assertWritable=function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw Mr("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")},t.prototype.removeChild=function(e){this.type.removeChild(this,e)},t.prototype.unbox=function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")},t.prototype.finalizeCreation=function(){var e=this;this.baseFinalizeCreation((function(){var t,n;try{for(var r=qn(e.getChildren()),i=r.next();!i.done;i=r.next()){i.value.finalizeCreation()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.fireInternalHook(Hn.afterCreationFinalization)}))},t.prototype.detach=function(){if(!this.isAlive)throw Mr("Error while detaching, node is not alive.");this.clearParent()},t.prototype.preboot=function(){var e=this;this._applyPatches=vr(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){var n=function(e){var t=e.split("/").map(si);if(!(""===e||"."===e||".."===e||Qr(e,"/")||Qr(e,"./")||Qr(e,"../")))throw Mr("a json path must be either rooted, empty or relative, but got '"+e+"'");""===t[0]&&t.shift();return t}(t.path);Cr(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)}))})),this._applySnapshot=vr(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),Kr(this.storedValue,"$treenode",this),Kr(this.storedValue,"toJSON",Ir)},t.prototype.die=function(){this.isAlive&&this.state!==Nr.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.aboutToDie=function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))},t.prototype.finalizeDeath=function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()},t.prototype.onSnapshot=function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)},t.prototype.emitSnapshot=function(e){this._internalEventsEmit("snapshot",e)},t.prototype.onPatch=function(e){return this._internalEventsRegister("patch",e)},t.prototype.emitPatch=function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=Wn(function(e){if(!("oldValue"in e))throw Mr("Patches without `oldValue` field cannot be inversed");return[ii(e),oi(e)]}(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),2),r=n[0],i=n[1];this._internalEventsEmit("patch",r,i)}this.parent&&this.parent.emitPatch(e,t)},t.prototype.hasDisposer=function(e){return this._internalEventsHas("dispose",e)},t.prototype.addDisposer=function(e){if(this.hasDisposer(e))throw Mr("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)},t.prototype.removeDisposer=function(e){if(!this._internalEventsHas("dispose",e))throw Mr("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)},t.prototype.removeMiddleware=function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}},t.prototype.addMiddleWare=function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}},t.prototype.applyPatchLocally=function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)},t.prototype._addSnapshotReaction=function(){var e=this;if(!this._hasSnapshotReaction){var t=function(e,t,n){void 0===n&&(n=k),"production"!==process.env.NODE_ENV&&(z("function"==typeof e,"First argument to reaction should be a function"),z("object"==typeof n,"Third argument of reactions should be an object"));var r,i,o,a=n.name||"Reaction@"+R(),s=Dt(a,n.onError?(r=n.onError,i=t,function(){try{return i.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,c=Ct(n),p=!0,l=!1,h=n.compareStructural?ne.structural:n.equals||ne.default,f=new gt(a,(function(){p||u?d():l||(l=!0,c(d))}),n.onError,n.requiresObservable);function d(){if(l=!1,!f.isDisposed){var t=!1;f.track((function(){var n=e(f);t=p||!h(o,n),o=n})),p&&n.fireImmediately&&s(o,f),p||!0!==t||s(o,f),p&&(p=!1)}}return f.schedule(),f.getDisposer()}((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),rr);this.addDisposer(t),this._hasSnapshotReaction=!0}},t.prototype._internalEventsHasSubscribers=function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)},t.prototype._internalEventsRegister=function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new Xr),this._internalEvents.register(e,t,n)},t.prototype._internalEventsHas=function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)},t.prototype._internalEventsUnregister=function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)},t.prototype._internalEventsEmit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,Kn([e],n))},t.prototype._internalEventsClear=function(e){this._internalEvents&&this._internalEvents.clear(e)},t.prototype._internalEventsClearAll=function(){this._internalEvents&&this._internalEvents.clearAll()},Gn([Dt],t.prototype,"createObservableInstance",null),Gn([Ce],t.prototype,"snapshot",null),Gn([Dt],t.prototype,"detach",null),Gn([Dt],t.prototype,"die",null),t}(er);!function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(Qn||(Qn={}));var or=function(){function e(e){this.isType=!0,this.name=e}return e.prototype.create=function(e,t){return Or(this,e),this.instantiate(null,"",t,e).value},e.prototype.getSnapshot=function(e,t){throw Mr("unimplemented method")},e.prototype.isAssignableFrom=function(e){return e===this},e.prototype.validate=function(e,t){if(jr(e)){var n=Yn(e);return this.isAssignableFrom(n)?_r():wr(t,e)}return this.isValidSnapshot(e,t)},e.prototype.is=function(e){return 0===this.validate(e,[{path:"",type:this}]).length},Object.defineProperty(e.prototype,"Type",{get:function(){throw Mr("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw Mr("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw Mr("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw Mr("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),Gn([Dt],e.prototype,"create",null),e}(),ar=function(e){function t(t){return e.call(this,t)||this}return Fn(t,e),t.prototype.create=function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)},t.prototype.getValue=function(e){return e.createObservableInstanceIfNeeded(),e.storedValue},t.prototype.tryToReconcileNode=function(e,t){return!e.isDetaching&&(e.snapshot===t||(!(!Pr(t)||Tr(t)!==e)||!(e.type!==this||!Gr(t)||Pr(t)||e.identifierAttribute&&e.identifier!==ro(t[e.identifierAttribute]))&&(e.applySnapshot(t),!0)))},t.prototype.reconcile=function(e,t,n,r){if(this.tryToReconcileNode(e,t))return e.setParent(n,r),e;if(e.die(),Pr(t)&&this.isAssignableFrom(Yn(t))){var i=Tr(t);return i.setParent(n,r),i}return this.instantiate(n,r,void 0,t)},t.prototype.getSubTypes=function(){return null},Gn([Dt],t.prototype,"create",null),t}(or),sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fn(t,e),t.prototype.createNewInstance=function(e){return e},t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(n,r,void 0,t);return e.die(),i},t.prototype.getSubTypes=function(){return null},t}(or);function ur(e){return"object"==typeof e&&e&&!0===e.isType}function cr(e,t){ti(e,ur,"mobx-state-tree type",t)}!function(){function e(e,t){this.hooks=e,this.call=t,this.flowsPending=0,this.running=!0,e&&e.onStart(t)}e.prototype.finish=function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))},e.prototype.incFlowsPending=function(){this.flowsPending++},e.prototype.decFlowsPending=function(){this.flowsPending--},Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var pr,lr=1;function hr(){return lr++}function fr(e,t){var n=Tr(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var i=pr;pr=e;try{return function(e,t,n){var r=new yr(e,n);if(r.isEmpty)return Dt(n).apply(null,t.args);var i=null;return function e(t){var o=r.getNextMiddleware(),a=o&&o.handler;if(!a)return Dt(n).apply(null,t.args);if(!o.includeHooks&&Hn[t.name])return e(t);var s=!1,u=!1;if(a(t,(function(t,n){s=!0,i=e(t),n&&(i=n(i))}),(function(e){u=!0,i=e})),ei()){if(!s&&!u){var c=Tr(t.tree);throw Mr("Neither the next() nor the abort() callback within the middleware "+a.name+' for the action: "'+t.name+'" on the node: '+c.type.name+" was invoked.")}if(s&&u){c=Tr(t.tree);throw Mr("The next() and abort() callback within the middleware "+a.name+' for the action: "'+t.name+'" on the node: '+c.type.name+" were invoked.")}}return i}(t)}(n,e,t)}finally{pr=i,n._isRunningAction=r}}function dr(e){if(e)return"action"===e.type?e:e.parentActionEvent}function vr(e,t,n){var r=function(){var r=hr(),i=pr,o=dr(i);return fr({type:"action",name:t,id:r,args:Zr(arguments),context:e,tree:Zn(e),rootId:i?i.rootId:r,parentId:i?i.id:0,allParentIds:i?Kn(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},n)};return r._isMSTAction=!0,r}var yr=function(){function e(e,t){this.arrayIndex=0,this.inArrayIndex=0,this.middlewares=[],t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var n=e;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),e.prototype.getNextMiddleware=function(){var e=this.middlewares[this.arrayIndex];if(e){var t=e[this.inArrayIndex++];return t||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}},e}();function br(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":Pr(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function gr(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=r.length>0?'at path "/'+r+'" ':"",o=Pr(t)?"value of type "+Tr(t).type.name+":":qr(t)?"value":"snapshot",a=n&&Pr(t)&&n.is(Tr(t).snapshot);return""+i+o+" "+br(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?function(e){return ur(e)&&(e.flags&(Qn.String|Qn.Number|Qn.Integer|Qn.Boolean|Qn.Date))>0}(n)||qr(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function mr(e,t,n){return e.concat([{path:t,type:n}])}function _r(){return Rr}function wr(e,t,n){return[{context:e,value:t,message:n}]}function Er(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Or(e,t){(ei()||"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK)&&function(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw Mr(function(e,t,n){if(0===n.length)return;return"Error while converting "+(r=br(t),(r.length<280?r:r.substring(0,272)+"......"+r.substring(r.length-8))+" to `")+e.name+"`:\n\n    "+n.map(gr).join("\n    ");var r}(e,t,n))}(e,t)}var Nr,Sr=0,Ar=function(){function e(){this.cacheId=Sr++,this.cache=xe.map(),this.lastCacheModificationPerId=xe.map()}return e.prototype.updateLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)},e.prototype.getLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t},e.prototype.addNodeToCache=function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,xe.array([],zr));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw Mr("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}},e.prototype.mergeCache=function(e){var t=this;Kt(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))},e.prototype.notifyDied=function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}},e.prototype.splitCache=function(t){var n,r=this,i=new e,o=t.path;return(n=this.cache,Dn(n)?Wt(n).map((function(e){return[e,n[e]]})):_n(n)?Wt(n).map((function(e){return[e,n.get(e)]})):On(n)?Array.from(n.entries()):yn(n)?n.map((function(e,t){return[t,e]})):L("production"!==process.env.NODE_ENV&&"'entries()' can only be used on observable objects, arrays and maps")).forEach((function(e){for(var t=Wn(e,2),n=t[0],a=t[1],s=!1,u=a.length-1;u>=0;u--)0===a[u].path.indexOf(o)&&(i.addNodeToCache(a[u],!1),a.splice(u,1),s=!0);s&&r.updateLastCacheModificationPerId(n)})),i},e.prototype.has=function(e,t){var n=this.cache.get(t);return!!n&&n.some((function(t){return e.isAssignableFrom(t.type)}))},e.prototype.resolve=function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter((function(t){return e.isAssignableFrom(t.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw Mr("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map((function(e){return e.path})).join(", "))}},e}();function Vr(e,t,n,r,i){var o=jr(i);if(o){if(o.parent)throw Mr("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,n),o}return new ir(e,t,n,r,i)}function xr(e,t,n,r,i){return new tr(e,t,n,r,i)}function Pr(e){return!(!e||!e.$treenode)}function Dr(e,t){ti(e,Pr,"mobx-state-tree node",t)}function Tr(e){if(!Pr(e))throw Mr("Value "+e+" is no MST Node");return e.$treenode}function jr(e){return e&&e.$treenode||null}function Ir(){return Tr(this).snapshot}function Cr(e,t,n){void 0===n&&(n=!0);for(var r=e,i=0;i<t.length;i++){var o=t[i];if(".."===o){if(r=r.parent)continue}else{if("."===o)continue;if(r){if(r instanceof tr)try{var a=r.value;Pr(a)&&(r=Tr(a))}catch(e){if(!n)return;throw e}if(r instanceof ir)if(r.getChildType(o)&&(r=r.getChildNode(o)))continue}}if(n)throw Mr("Could not resolve '"+o+"' in path '"+(ui(t.slice(0,i))||"/")+"' while resolving '"+ui(t)+"'");return}return r}function kr(e){if(!e)return Rr;var t=Object.keys(e);if(!t.length)return Rr;var n=new Array(t.length);return t.forEach((function(t,r){n[r]=e[t]})),n}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(Nr||(Nr={}));var Rr=Object.freeze([]),Lr=Object.freeze({}),zr="string"==typeof Z?{deep:!1}:{deep:!1,proxy:!1};function Mr(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function Ur(e){return e}Object.freeze(zr);var Hr=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Br(e){return Array.isArray(e)||yn(e)}function Fr(e){return e?Br(e)?e:[e]:Rr}function $r(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Gr(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function qr(e,t){return void 0===t&&(t=!0),null==e||!!("string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date)}function Wr(e){return ei()?qr(e)||yn(e)?e:Object.freeze(e):e}function Kr(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Yr(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}var Jr=function(){function e(){this.handlers=[]}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}},e.prototype.has=function(e){return this.handlers.indexOf(e)>=0},e.prototype.unregister=function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)},e.prototype.clear=function(){this.handlers.length=0},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.handlers.slice();n.forEach((function(t){return t.apply(void 0,Kn(e))}))},e}(),Xr=function(){function e(){}return e.prototype.hasSubscribers=function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers},e.prototype.register=function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new Jr),r.register(t,n)},e.prototype.has=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)},e.prototype.unregister=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)},e.prototype.clear=function(e){this.eventHandlers&&delete this.eventHandlers[e]},e.prototype.clearAll=function(){this.eventHandlers=void 0},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,Kn(n))},e}();function Zr(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function Qr(e,t){return 0===e.indexOf(t)}function ei(){return"production"!==process.env.NODE_ENV}function ti(e,t,n,r){if(ei()&&!t(e))throw Mr("expected "+n+" as argument "+Fr(r).join(" or ")+", got "+e+" instead")}function ni(e,t){ti(e,(function(e){return"function"==typeof e}),"function",t)}function ri(e,t,n){void 0===n&&(n=!0),ti(e,(function(e){return"string"==typeof e}),"string",t),n||ti(e,(function(e){return""!==e}),"not empty string",t)}function ii(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function oi(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function ai(e){return!0==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function si(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function ui(e){if(0===e.length)return"";var t=function(e){return e.map(ai).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}var ci=function(e){function t(t,n,r){var i=e.call(this,r||t.name)||this;return i._subtype=t,i._processors=n,i}return Fn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Qn.SnapshotProcessor},enumerable:!1,configurable:!0}),t.prototype.describe=function(){return"snapshotProcessor("+this._subtype.describe()+")"},t.prototype.preProcessSnapshot=function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e},t.prototype.postProcessSnapshot=function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e},t.prototype._fixNode=function(e){var t=this;!function(e,t){for(var n,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=qn(i),s=a.next();!s.done;s=a.next()){var u=s.value;e[u]=t[u].bind(t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(e.type,this,"isAssignableFrom","create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))}},t.prototype.instantiate=function(e,t,n,r){var i=Pr(r)?r:this.preProcessSnapshot(r),o=this._subtype.instantiate(e,t,n,i);return this._fixNode(o),o},t.prototype.reconcile=function(e,t,n,r){var i=this._subtype.reconcile(e,Pr(t)?t:this.preProcessSnapshot(t),n,r);return i!==e&&this._fixNode(i),i},t.prototype.getSnapshot=function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n},t.prototype.isValidSnapshot=function(e,t){var n=this.preProcessSnapshot(e);return this._subtype.validate(n,t)},t.prototype.getSubTypes=function(){return this._subtype},t.prototype.is=function(e){var t=ur(e)?this._subtype:Pr(e)?Xn(e,!1):this.preProcessSnapshot(e);return 0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length},t}(or);var pi,li="Map.put can only be used to store complex values that have an identifier type attribute";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(pi||(pi={}));var hi=function(e){function t(t){return e.call(this,t,xe.ref.enhancer)||this}return Fn(t,e),t.prototype.get=function(t){return e.prototype.get.call(this,""+t)},t.prototype.has=function(t){return e.prototype.has.call(this,""+t)},t.prototype.delete=function(t){return e.prototype.delete.call(this,""+t)},t.prototype.set=function(t,n){return e.prototype.set.call(this,""+t,n)},t.prototype.put=function(e){if(!e)throw Mr("Map.put cannot be used to set empty values");if(Pr(e)){var t=Tr(e);if(ei()&&!t.identifierAttribute)throw Mr(li);if(null===t.identifier)throw Mr(li);return this.set(t.identifier,e),e}if(Gr(e)){var n=Tr(this),r=n.type;if(r.identifierMode!==pi.YES)throw Mr(li);var i=e[r.mapIdentifierAttribute];if(!io(i)){var o=this.put(r.getChildType().create(e,n.environment));return this.put(Xn(o))}var a=ro(i);return this.set(a,e),this.get(a)}throw Mr("Map.put can only be used to store complex values")},t}(mn),fi=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return i._subType=n,i.identifierMode=pi.UNKNOWN,i.mapIdentifierAttribute=void 0,i.flags=Qn.Map,i.hookInitializers=[],i._determineIdentifierMode(),i.hookInitializers=r,i}return Fn(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return this._determineIdentifierMode(),Vr(this,e,t,n,r)},t.prototype._determineIdentifierMode=function(){if(this.identifierMode===pi.UNKNOWN){var e=[];if(function e(t,n){var r,i,o=t.getSubTypes();if("cannotDetermine"===o)return!1;if(o){var a=Fr(o);try{for(var s=qn(a),u=s.next();!u.done;u=s.next()){if(!e(u.value,n))return!1}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return t instanceof wi&&n.push(t),!0}(this._subType,e)){var t=void 0;e.forEach((function(e){if(e.identifierAttribute){if(t&&t!==e.identifierAttribute)throw Mr("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier");t=e.identifierAttribute}})),t?(this.identifierMode=pi.YES,this.mapIdentifierAttribute=t):this.identifierMode=pi.NO}}},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach((function(i){r[i]=n.instantiate(e,i,void 0,t[i])})),r},t.prototype.createNewInstance=function(e){return new hi(e)},t.prototype.finalizeNewInstance=function(e,t){Ht(t,e.unbox),e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=vr(t,e,r);(ei()?Yr:Kr)(t,e,i)}))})),Bt(t,this.willChange),Jt(t,this.didChange)},t.prototype.describe=function(){return"Map<string, "+this._subType.describe()+">"},t.prototype.getChildren=function(e){return Kt(e.storedValue)},t.prototype.getChildNode=function(e,t){var n=e.storedValue.get(""+t);if(!n)throw Mr("Not a child "+t);return n},t.prototype.willChange=function(e){var t=Tr(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,i=r._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(n))return null;Or(i,o),e.newValue=i.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":Or(i,e.newValue),e.newValue=i.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e},t.prototype.processIdentifier=function(e,t){if(this.identifierMode===pi.YES&&t instanceof ir){var n=t.identifier;if(n!==e)throw Mr("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}},t.prototype.getSnapshot=function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),t},t.prototype.didChange=function(e){var t=Tr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:ai(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:ai(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:ai(e.name),oldValue:n},t)}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}},t.prototype.applySnapshot=function(e,t){Or(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach((function(e){r[e]=!1})),t)for(var i in t)n.set(i,t[i]),r[""+i]=!0;Object.keys(r).forEach((function(e){!1===r[e]&&n.delete(e)}))},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return $r(e)?Er(Object.keys(e).map((function(r){return n._subType.validate(e[r],mr(t,r,n._subType))}))):wr(t,e,"Value is not a plain object")},t.prototype.getDefaultSnapshot=function(){return Lr},t.prototype.removeChild=function(e,t){e.storedValue.delete(t)},Gn([Dt],t.prototype,"applySnapshot",null),t}(ar);var di=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return i._subType=n,i.flags=Qn.Array,i.hookInitializers=[],i.hookInitializers=r,i}return Fn(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return Vr(this,e,t,n,r)},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach((function(t,i){var o=""+i;r[o]=n.instantiate(e,o,void 0,t)})),r},t.prototype.createNewInstance=function(e){return xe.array(kr(e),zr)},t.prototype.finalizeNewInstance=function(e,t){jn(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=vr(t,e,r);(ei()?Yr:Kr)(t,e,i)}))})),Bt(t,this.willChange),Jt(t,this.didChange)},t.prototype.describe=function(){return this._subType.describe()+"[]"},t.prototype.getChildren=function(e){return e.storedValue.slice()},t.prototype.getChildNode=function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw Mr("Not a child: "+t)},t.prototype.willChange=function(e){var t=Tr(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=vi(t,n,[r[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,s=e.added,u=vi(t,n,r.slice(o,o+a),s,s.map((function(e,t){return o+t})));if(!u)return null;e.added=u;for(var c=o+a;c<r.length;c++)r[c].setParent(t,""+(c+s.length-a))}return e},t.prototype.getSnapshot=function(e){return e.getChildren().map((function(e){return e.snapshot}))},t.prototype.processInitialSnapshot=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n].getSnapshot())})),t},t.prototype.didChange=function(e){var t=Tr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue,i="-"===t?r.length:Number(t);switch(n.op){case"replace":r[i]=n.value;break;case"add":r.splice(i,0,n.value);break;case"remove":r.splice(i,1)}},t.prototype.applySnapshot=function(e,t){Or(this,t),e.storedValue.replace(t)},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return Br(e)?Er(e.map((function(e,r){return n._subType.validate(e,mr(t,""+r,n._subType))}))):wr(t,e,"Value is not an array")},t.prototype.getDefaultSnapshot=function(){return Rr},t.prototype.removeChild=function(e,t){e.storedValue.splice(Number(t),1)},Gn([Dt],t.prototype,"applySnapshot",null),t}(ar);function vi(e,t,n,r,i){for(var o,a=!0,s=0;;s++){var u=s<=r.length-1,c=n[s],p=u?r[s]:void 0,l=""+i[s];if(((o=p)instanceof tr||o instanceof ir)&&(p=p.storedValue),!c&&!u)break;if(u)if(c)if(bi(c,p))n[s]=yi(t,e,l,p,c);else{for(var h=void 0,f=s;f<n.length;f++)if(bi(n[f],p)){h=n.splice(f,1)[0];break}a=!1;d=yi(t,e,l,p,h);n.splice(s,0,d)}else{if(Pr(p)&&Tr(p).parent===e)throw Mr("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+l+"', but it lives already at '"+Tr(p).path+"'");a=!1;var d=yi(t,e,l,p);n.splice(s,0,d)}else a=!1,n.splice(s,1),c instanceof ir&&c.createObservableInstanceIfNeeded(),c.die(),s--}return a?null:n}function yi(e,t,n,r,i){Or(e,r);var o=function(){if(Pr(r)){var o=Tr(r);if(o.assertAlive(Lr),null!==o.parent&&o.parent===t)return o.setParent(t,n),o}return i?e.reconcile(i,r,t,n):e.instantiate(t,n,void 0,r)}();return i&&i!==o&&(i instanceof ir&&i.createObservableInstanceIfNeeded(),i.die()),o}function bi(e,t){if(!e.isAlive)return!1;if(Pr(t)){var n=Tr(t);return n.isAlive&&n===e}return e.snapshot===t||e instanceof ir&&null!==e.identifier&&e.identifierAttribute&&$r(t)&&e.identifier===ro(t[e.identifierAttribute])&&e.type.is(t)}function gi(){return Tr(this).toString()}var mi={name:"AnonymousModel",properties:{},initializers:Rr};function _i(e){return Object.keys(e).reduce((function(e,t){var n,r,i;if(t in Hn)throw Mr("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var o=Object.getOwnPropertyDescriptor(e,t);if("get"in o)throw Mr("Getters are not supported as properties. Please use views instead");var a=o.value;if(null==a)throw Mr("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(qr(a))return Object.assign({},e,((n={})[t]=zi(function(e){switch(typeof e){case"string":return Ni;case"number":return Si;case"boolean":return Vi;case"object":if(e instanceof Date)return Ti}throw Mr("Cannot determine primitive type from value "+e)}(a),a),n));if(a instanceof fi)return Object.assign({},e,((r={})[t]=zi(a,{}),r));if(a instanceof di)return Object.assign({},e,((i={})[t]=zi(a,[]),i));if(ur(a))return e;throw ei()&&"function"==typeof a?Mr("Invalid type definition for property '"+t+"', it looks like you passed a function. Did you forget to invoke it, or did you intend to declare a view / action?"):ei()&&"object"==typeof a?Mr("Invalid type definition for property '"+t+"', it looks like you passed an object. Try passing another model type or a types.frozen."):Mr("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+a+"' ("+typeof a+")")}),e)}var wi=function(e){function t(t){var n=e.call(this,t.name||mi.name)||this;return n.flags=Qn.Object,n.named=function(e){return n.cloneAndEnhance({name:e})},n.props=function(e){return n.cloneAndEnhance({properties:e})},n.preProcessSnapshot=function(e){var t=n.preProcessor;return t?n.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):n.cloneAndEnhance({preProcessor:e})},n.postProcessSnapshot=function(e){var t=n.postProcessor;return t?n.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):n.cloneAndEnhance({postProcessor:e})},Object.assign(n,mi,t),n.properties=_i(n.properties),Wr(n.properties),n.propertyNames=Object.keys(n.properties),n.identifierAttribute=n._getIdentifierAttribute(),n}return Fn(t,e),t.prototype._getIdentifierAttribute=function(){var e=void 0;return this.forAllProps((function(t,n){if(n.flags&Qn.Identifier){if(e)throw Mr("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e},t.prototype.cloneAndEnhance=function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})},t.prototype.actions=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})},t.prototype.instantiateActions=function(e,t){if(!$r(t))throw Mr("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(n){if("preProcessSnapshot"===n)throw Mr("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===n)throw Mr("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var r=t[n],i=e[n];if(n in Hn&&i){var o=r;r=function(){i.apply(null,arguments),o.apply(null,arguments)}}var a=r.$mst_middleware,s=r.bind(t);s.$mst_middleware=a;var u=vr(e,n,s);t[n]=u,(ei()?Yr:Kr)(e,n,u)}))},t.prototype.volatile=function(e){var t=this;if("function"!=typeof e)throw Mr("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})},t.prototype.instantiateVolatileState=function(e,t){if(!$r(t))throw Mr("volatile state initializer should return a plain object containing state");Yt(e,t)},t.prototype.extend=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),i=r.actions,o=r.views,a=r.state,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["actions","views","state"]);for(var u in s)throw Mr("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+u+"'");return a&&t.instantiateVolatileState(n,a),o&&t.instantiateViews(n,o),i&&t.instantiateActions(n,i),n}]})},t.prototype.views=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})},t.prototype.instantiateViews=function(e,t){if(!$r(t))throw Mr("views initializer should return a plain object containing views");Object.keys(t).forEach((function(n){var r,i,o=Object.getOwnPropertyDescriptor(t,n);if("get"in o)if(r=e,"string"!=typeof(i=n)?L("production"!==process.env.NODE_ENV&&"isComputed expected a property name as second argument"):Ft(r,i)){var a=jn(e,n);a.derivation=o.get,a.scope=e,o.set&&(a.setter=Dt(a.name+"-setter",o.set))}else Ce(e,n,o,!0);else{if("function"!=typeof o.value)throw Mr("A view member should either be a function or getter based property");(ei()?Yr:Kr)(e,n,o.value)}}))},t.prototype.instantiate=function(e,t,n,r){return Vr(this,e,t,n,Pr(r)?r:this.applySnapshotPreProcessor(r))},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps((function(n,i){r[n]=i.instantiate(e,n,void 0,t[n])})),r},t.prototype.createNewInstance=function(e){return xe.object(e,Lr,zr)},t.prototype.finalizeNewInstance=function(e,t){Kr(t,"toString",gi),this.forAllProps((function(n){Ht(t,n,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),Bt(t,this.willChange),Jt(t,this.didChange)},t.prototype.willChange=function(e){var t=e,n=Tr(t.object),r=t.name;n.assertWritable({subpath:r});var i=n.type.properties[r];return i&&(Or(i,t.newValue),t.newValue=i.reconcile(n.getChildNode(r),t.newValue,n,r)),t},t.prototype.didChange=function(e){var t=e,n=Tr(t.object);if(n.type.properties[t.name]){var r=t.oldValue?t.oldValue.snapshot:void 0;n.emitPatch({op:"replace",path:ai(t.name),value:t.newValue.snapshot,oldValue:r},n)}},t.prototype.getChildren=function(e){var t=this,n=[];return this.forAllProps((function(r){n.push(t.getChildNode(e,r))})),n},t.prototype.getChildNode=function(e,t){if(!(t in this.properties))throw Mr("Not a value property: "+t);var n=jn(e.storedValue,t).value;if(!n)throw Mr("Node not available for property "+t);return n},t.prototype.getSnapshot=function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps((function(t,i){Tn(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(r):r},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),this.applySnapshotPostProcessor(t)},t.prototype.applyPatchLocally=function(e,t,n){if("replace"!==n.op&&"add"!==n.op)throw Mr("object does not support operation "+n.op);e.storedValue[t]=n.value},t.prototype.applySnapshot=function(e,t){var n=this.applySnapshotPreProcessor(t);Or(this,n),this.forAllProps((function(t){e.storedValue[t]=n[t]}))},t.prototype.applySnapshotPreProcessor=function(e){var t=this.preProcessor;return t?t.call(null,e):e},t.prototype.applySnapshotPostProcessor=function(e){var t=this.postProcessor;return t?t.call(null,e):e},t.prototype.getChildType=function(e){return ri(e,1),this.properties[e]},t.prototype.isValidSnapshot=function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return $r(r)?Er(this.propertyNames.map((function(e){return n.properties[e].validate(r[e],mr(t,e,n.properties[e]))}))):wr(t,r,"Value is not a plain object")},t.prototype.forAllProps=function(e){var t=this;this.propertyNames.forEach((function(n){return e(n,t.properties[n])}))},t.prototype.describe=function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"},t.prototype.getDefaultSnapshot=function(){return Lr},t.prototype.removeChild=function(e,t){e.storedValue[t]=void 0},Gn([Dt],t.prototype,"applySnapshot",null),t}(ar);function Ei(e){return ur(e)&&(e.flags&Qn.Object)>0}var Oi=function(e){function t(t,n,r,i){void 0===i&&(i=Ur);var o=e.call(this,t)||this;return o.flags=n,o.checker=r,o.initializer=i,o.flags=n,o}return Fn(t,e),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return xr(this,e,t,n,r)},t.prototype.createNewInstance=function(e){return this.initializer(e)},t.prototype.isValidSnapshot=function(e,t){return qr(e)&&this.checker(e)?_r():wr(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))},t}(sr),Ni=new Oi("string",Qn.String,(function(e){return"string"==typeof e})),Si=new Oi("number",Qn.Number,(function(e){return"number"==typeof e})),Ai=new Oi("integer",Qn.Integer,(function(e){return Hr(e)})),Vi=new Oi("boolean",Qn.Boolean,(function(e){return"boolean"==typeof e})),xi=new Oi("null",Qn.Null,(function(e){return null===e})),Pi=new Oi("undefined",Qn.Undefined,(function(e){return void 0===e})),Di=new Oi("Date",Qn.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));Di.getSnapshot=function(e){return e.storedValue.getTime()};var Ti=Di;var ji=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return n.flags=Qn.Literal,n.value=t,n}return Fn(t,e),t.prototype.instantiate=function(e,t,n,r){return xr(this,e,t,n,r)},t.prototype.describe=function(){return JSON.stringify(this.value)},t.prototype.isValidSnapshot=function(e,t){return qr(e)&&e===this.value?_r():wr(t,e,"Value is not a literal "+JSON.stringify(this.value))},t}(sr);function Ii(e){return ti(e,qr,"primitive",1),new ji(e)}var Ci=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._subtype=n,o._predicate=r,o._message=i,o}return Fn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Qn.Refinement},enumerable:!1,configurable:!0}),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=Pr(e)?Tr(e).snapshot:e;return this._predicate(r)?_r():wr(t,e,this._message(e))},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)},t.prototype.getSubTypes=function(){return this._subtype},t}(or);var ki=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i._types=n,i._eager=!0,r=$n({eager:!0,dispatcher:void 0},r),i._dispatcher=r.dispatcher,r.eager||(i._eager=!1),i}return Fn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=Qn.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),t.prototype.isAssignableFrom=function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))},t.prototype.describe=function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"},t.prototype.instantiate=function(e,t,n,r){var i=this.determineType(r,void 0);if(!i)throw Mr("No matching type for union "+this.describe());return i.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){var i=this.determineType(t,e.type);if(!i)throw Mr("No matching type for union "+this.describe());return i.reconcile(e,t,n,r)},t.prototype.determineType=function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))},t.prototype.isValidSnapshot=function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return _r();r++}else n.push(o)}return 1===r?_r():wr(t,e,"No type is applicable for the union").concat(Er(n))},t.prototype.getSubTypes=function(){return this._types},t}(or);function Ri(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ur(e)?void 0:e,i=ur(e)?Kn([e],t):t,o="("+i.map((function(e){return e.name})).join(" | ")+")";return ei()&&(r&&ti(r,(function(e){return $r(e)}),"object { eager?: boolean, dispatcher?: Function }",1),i.forEach((function(e,t){cr(e,r?t+2:t+1)}))),new ki(o,i,r)}var Li=function(e){function t(t,n,r){var i=e.call(this,t.name)||this;return i._subtype=t,i._defaultValue=n,i.optionalValues=r,i}return Fn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Qn.Optional},enumerable:!1,configurable:!0}),t.prototype.describe=function(){return this._subtype.describe()+"?"},t.prototype.instantiate=function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,i)}return this._subtype.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)},t.prototype.getDefaultInstanceOrSnapshot=function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&Or(this,e),e},t.prototype.isValidSnapshot=function(e,t){return this.optionalValues.indexOf(e)>=0?_r():this._subtype.validate(e,t)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.getSubTypes=function(){return this._subtype},t}(or);function zi(e,t,n){return function(e,t){if("function"!=typeof t&&Pr(t))throw Mr("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");cr(e,1),ei()&&"function"!=typeof t&&Or(e,t)}(e,t),new Li(e,t,n||Mi)}var Mi=[void 0],Ui=zi(Pi,void 0),Hi=zi(xi,null);function Bi(e){return cr(e,1),Ri(e,Ui)}var Fi=function(e){function t(t,n){var r=e.call(this,t)||this;return r._definition=n,r}return Fn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|Qn.Late},enumerable:!1,configurable:!0}),t.prototype.getSubType=function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw Mr("Late type seems to be used too early, the definition (still) returns undefined");if(t){if(ei()&&!ur(t))throw Mr("Failed to determine subtype, make sure types.late returns a type definition.");this._subType=t}}return this._subType},t.prototype.instantiate=function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)},t.prototype.describe=function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"},t.prototype.isValidSnapshot=function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):_r()},t.prototype.isAssignableFrom=function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)},t.prototype.getSubTypes=function(){var e=this.getSubType(!1);return e||"cannotDetermine"},t}(or);var $i=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return n.subType=t,n.flags=Qn.Frozen,n}return Fn(t,e),t.prototype.describe=function(){return"<any immutable value>"},t.prototype.instantiate=function(e,t,n,r){return xr(this,e,t,n,function e(t){return ei()?(Wr(t),$r(t)&&Object.keys(t).forEach((function(n){qr(t[n])||Object.isFrozen(t[n])||e(t[n])})),t):t}(r))},t.prototype.isValidSnapshot=function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):_r():wr(t,e,"Value is not serializable and cannot be frozen")},t}(sr),Gi=new $i;var qi=function(){function e(e,t){if(this.targetType=t,io(e))this.identifier=e;else{if(!Pr(e))throw Mr("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=Tr(e);if(!n.identifierAttribute)throw Mr("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)throw Mr("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return e.prototype.updateResolvedReference=function(e){var t=ro(this.identifier),n=e.root,r=n.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var i=this.targetType,o=n.identifierCache.resolve(i,t);if(!o)throw new Wi("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:r}}},Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),Wi=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Fn(t,e),t}(Error),Ki=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return r.targetType=t,r.onInvalidated=n,r.flags=Qn.Reference,r}return Fn(t,e),t.prototype.describe=function(){return this.name},t.prototype.isAssignableFrom=function(e){return this.targetType.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){return io(e)?_r():wr(t,e,"Value is not a valid identifier, which is a string or a number")},t.prototype.fireInvalidated=function(e,t,n,r){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){Jn(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){Ei(i.type)?this.replaceRef(void 0):Jn(t.root.storedValue,{op:"remove",path:t.path})}})}},t.prototype.addTargetNodeWatcher=function(e,t){var n=this,r=this.getValue(e);if(r){var i=Tr(r),o=function(r,o){var a=function(e){switch(e){case Hn.beforeDestroy:return"destroy";case Hn.beforeDetach:return"detach";default:return}}(o);a&&n.fireInvalidated(a,e,t,i)},a=i.registerHook(Hn.beforeDetach,o),s=i.registerHook(Hn.beforeDestroy,o);return function(){a(),s()}}},t.prototype.watchTargetNodeForInvalidations=function(e,t,n){var r=this;if(this.onInvalidated){var i;e.registerHook(Hn.beforeDestroy,(function(){i&&i()}));var o=function(o){i&&i();var a=e.parent,s=a&&a.storedValue;if(a&&a.isAlive&&s){(n?!!n.get(t,s):e.root.identifierCache.has(r.targetType,ro(t)))?i=r.addTargetNodeWatcher(e,t):o||r.fireInvalidated("invalidSnapshotReference",e,t,null)}};e.state===Nr.FINALIZED?o(!0):(e.isRoot||e.root.registerHook(Hn.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(Hn.afterAttach,(function(){o(!1)})))}},t}(sr),Yi=function(e){function t(t,n){return e.call(this,t,n)||this}return Fn(t,e),t.prototype.getValue=function(e){if(e.isAlive)return e.storedValue.resolvedValue},t.prototype.getSnapshot=function(e){return e.storedValue.identifier},t.prototype.instantiate=function(e,t,n,r){var i,o=Pr(r)?(Dr(i=r,1),Tr(i).identifier):r,a=new qi(r,this.targetType),s=xr(this,e,t,n,a);return a.node=s,this.watchTargetNodeForInvalidations(s,o,void 0),s},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this){var i=Pr(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(n,r),e}var a=this.instantiate(n,r,void 0,t);return e.die(),a},t}(Ki),Ji=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return i.options=n,i}return Fn(t,e),t.prototype.getValue=function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.instantiate=function(e,t,n,r){var i=Pr(r)?this.options.set(r,e?e.storedValue:null):r,o=xr(this,e,t,n,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o},t.prototype.reconcile=function(e,t,n,r){var i=Pr(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(n,r),e;var o=this.instantiate(n,r,void 0,i);return e.die(),o},t}(Ki);function Xi(e,t){if(cr(e,1),ei()&&2===arguments.length&&"string"==typeof arguments[1])throw Mr("References with base path are no longer supported. Please remove the base path.");var n=t||void 0,r=t?t.onInvalidated:void 0;if(n&&(n.get||n.set)){if(ei()&&(!n.get||!n.set))throw Mr("reference options must either contain both a 'get' and a 'set' method or none of them");return new Ji(e,{get:n.get,set:n.set},r)}return new Yi(e,r)}var Zi=function(e){function t(t,n){var r=e.call(this,t)||this;return r.validType=n,r.flags=Qn.Identifier,r}return Fn(t,e),t.prototype.instantiate=function(e,t,n,r){if(!(e&&e.type instanceof wi))throw Mr("Identifier types can only be instantiated as direct child of a model type");return xr(this,e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){if(e.storedValue!==t)throw Mr("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e},t.prototype.isValidSnapshot=function(e,t){return typeof e!==this.validType?wr(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):_r()},t}(sr),Qi=function(e){function t(){var t=e.call(this,"identifier","string")||this;return t.flags=Qn.Identifier,t}return Fn(t,e),t.prototype.describe=function(){return"identifier"},t}(Zi),eo=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return Fn(t,e),t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.describe=function(){return"identifierNumber"},t}(Zi),to=new Qi,no=new eo;function ro(e){return""+e}function io(e){return"string"==typeof e||"number"==typeof e}var oo=function(e){function t(t){var n=e.call(this,t.name)||this;return n.options=t,n.flags=Qn.Custom,n}return Fn(t,e),t.prototype.describe=function(){return this.name},t.prototype.isValidSnapshot=function(e,t){if(this.options.isTargetType(e))return _r();var n=this.options.getValidationMessage(e);return n?wr(t,e,"Invalid value for type '"+this.name+"': "+n):_r()},t.prototype.getSnapshot=function(e){return this.options.toSnapshot(e.storedValue)},t.prototype.instantiate=function(e,t,n,r){return xr(this,e,t,n,this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment))},t.prototype.reconcile=function(e,t,n,r){var i=!this.options.isTargetType(t);if(!e.isDetaching&&(e.type===this&&(i?t===e.snapshot:t===e.storedValue)))return e.setParent(n,r),e;var o=i?this.options.fromSnapshot(t,n.root.environment):t,a=this.instantiate(n,r,void 0,o);return e.die(),a},t}(sr),ao={enumeration:function(e,t){var n="string"==typeof e?t:e;ei()&&n.forEach((function(e,t){ri(e,t+1)}));var r=Ri.apply(void 0,Kn(n.map((function(e){return Ii(""+e)}))));return"string"==typeof e&&(r.name=e),r},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new wi({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),ei()&&e.forEach((function(e,t){ti(e,Ei,"mobx-state-tree model type",n?t+2:t+1)})),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})})).named(r)},custom:function(e){return new oo(e)},reference:Xi,safeReference:function(e,t){var n=Xi(e,$n($n({},t),{onInvalidated:function(e){e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:Bi(n)},union:Ri,optional:zi,literal:Ii,maybe:Bi,maybeNull:function(e){return cr(e,1),Ri(e,Hi)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():ur(e[0])?e[0].name:null,r=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return cr(r,[1,2]),ri(n,1),ni(i,[2,3]),ni(o,[3,4]),new Ci(n,r,i,o)},string:Ni,boolean:Vi,number:Si,integer:Ai,Date:Ti,map:function(e){return new fi("map<string, "+e.name+">",e)},array:function(e){return cr(e,1),new di(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?Gi:ur(e)?new $i(e):zi(Gi,e)},identifier:to,identifierNumber:no,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")",r="string"==typeof e?t:e;if(ei()&&("function"!=typeof r||0!==r.length))throw Mr("Invalid late type, expected a function with zero arguments that returns a type, got: "+r);return new Fi(n,r)},undefined:Pi,null:xi,snapshotProcessor:function(e,t,n){if(cr(e,1),ei()){if(t.postProcessor&&"function"!=typeof t.postProcessor)throw fail("postSnapshotProcessor must be a function");if(t.preProcessor&&"function"!=typeof t.preProcessor)throw fail("preSnapshotProcessor must be a function")}return new ci(e,t,n)}};
/**
     * @license
     * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class so{constructor(e){this.classes=new Set,this.changed=!1,this.element=e;const t=(e.getAttribute("class")||"").split(/\s+/);for(const e of t)this.classes.add(e)}add(e){this.classes.add(e),this.changed=!0}remove(e){this.classes.delete(e),this.changed=!0}commit(){if(this.changed){let e="";this.classes.forEach(t=>e+=t+" "),this.element.setAttribute("class",e)}}}const uo=new WeakMap,co=(po=e=>t=>{if(!(t instanceof w)||t instanceof S||"class"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=t,{element:r}=n;let i=uo.get(t);void 0===i&&(r.setAttribute("class",n.strings.join(" ")),uo.set(t,i=new Set));const o=r.classList||new so(r);i.forEach(t=>{t in e||(o.remove(t),i.delete(t))});for(const t in e){const n=e[t];n!=i.has(t)&&(n?(o.add(t),i.add(t)):(o.remove(t),i.delete(t)))}"function"==typeof o.commit&&o.commit()},(...t)=>{const n=po(...t);return e.set(n,!0),n});var po;const lo=e=>[...Array(Math.round(e)).keys()],ho=e=>Math.floor(Math.random()*e),fo=ao.model("Labels",{list:ao.array(ao.string),freeIndex:ao.optional(ao.number,0)}).actions(e=>({add(t=""){e.list.push(t)},delete(t=null){null!==t?e.list=e.list.filter((e,n)=>n!==t):e.list.pop()},setFreeIndex(t=0){e.freeIndex=t<e.list.length?t:0}})).views(e=>({get freeLabel(){return e.list[e.freeIndex]},get numLabels(){return e.list.length}})),vo=ao.model("Square",{checked:!1,free:!1,label:"Default label",col:0,row:0}).actions(e=>({check(){e.checked=!e.checked}})),yo=ao.model("Board",{squares:ao.array(vo),size:5}).views(e=>{function t(t="row"){return["row","col"].includes(t)?lo(e.size).map(n=>e.squares.filter(e=>e[t]==n)):[]}return{get rows(){return t()},get columns(){return t("col")},get diagonals(){return lo(2).map(t=>e.squares.filter(n=>t?n.row===e.size-n.col-1:n.row===n.col))},get completed(){const{rows:t,columns:n,diagonals:r}=this;return e.squares.length&&[...t,...n,...r].some(e=>e.every(e=>e.checked))}}}),bo=(e,t=5,n=!1)=>{if(t&&e.list.length){const r=Math.ceil((t**2-1)/(e.numLabels-1)),i=lo(r).flatMap(()=>(e=>{const t=[...e];for(let e=t.length-1;e>0;e--){const n=ho(e+1);[t[e],t[n]]=[t[n],t[e]]}return t})(e.list.filter((t,n)=>n!==e.freeIndex))).slice(0,t**2-1),o=n?ho(t**2):Math.floor(t**2/2);return i.splice(o,0,e.freeLabel),yo.create({squares:i.map((e,n)=>vo.create({row:Math.floor(n/t),col:n%t,label:e,free:n===o,checked:n===o})),size:t})}},go=({check:e,checked:t,label:n,free:r})=>I`
    <button class="square ${co({checked:t,"free-square":r})}" @click=${e}>
        ${n}
    </button>
`,mo=({squares:e,size:t})=>I`
    <style>
        #board {
            display: grid;
            width: fit-content;
            background-color: var(--jsb-primary-color);
            padding: 2px;
            grid-template-columns: repeat(${t}, var(--jsb-square-size));
            grid-template-rows: repeat(${t}, var(--jsb-square-size));
        }
    </style>
    <div id="board">
        ${e.map(go)}
    </div>
`;let _o=xe({board:yo.create({}),mode:"setup"});const wo=yo.create({}),Eo=()=>{No.list.length&&(_o.board=bo(No,5),_o.mode="play")},Oo=()=>{var e,t;e=wo,t=Xn(_o.board),Dr(e,1),Tr(e).applySnapshot(t),Eo(),_o.mode="last"},No=fo.create({list:window._LABELS_||[]}),So=e=>{return I`
    <div class="game-nav">
        <button
            class=${co({activated:"setup"===e.mode})}
            @click=${()=>e.mode="setup"}
        >
            Setup</button
        ><button class=${co({activated:"play"===e.mode})} @click=${Eo}>
            Play
        </button>
        <button
            class=${co({activated:"last"===e.mode})}
            @click=${()=>e.mode="last"}
        >
            Last
        </button>
    </div>
    <div class="game-stage">
        <div class="game-stage-grid" style="transform: ${n=e.mode,`translateY(${["setup","play","last"].indexOf(n)/3*-100}%)`};">
            <div class="game-stage-item">
                ${(e=>I`
    <div>Current label count: ${e.numLabels}</div>
    <div>
        <label for="item-add">Add a label:</label>
        <input
            type="text"
            name="item-add"
            @change=${({target:t})=>{e.add(t.value),t.value=""}}
        />
    </div>
    <div id="label-list-container">
        ${e.list.map((t,n)=>I`<span
                        class="label-item ${co({free:n===e.freeIndex})}"
                        @click=${()=>{e.setFreeIndex(n)}}
                    >
                        ${t}
                    </span>
                    <button
                        @click=${()=>{e.delete(n)}}
                    >
                        X
                    </button>`)}
    </div>
`)(No)}
            </div>
            <div class="game-stage-item">
                ${mo(e.board)}
            </div>
            <div class="game-stage-item" style="pointer-events: none;">
                ${wo.squares.length?mo(wo):"No past games to display!"}
            </div>
        </div>
        ${e.board.completed?(t=Oo,I`
    <style>
        #bingo-win-bg {
            position: fixed;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.9);
            top: 0;
            left: 0;
            overflow: hidden;
        }

        #bingo-win {
            top: 45vh;
            left: 50vw;
            transform: translate(-50%, -50%);
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        #bingo-win > * {
            padding: 0.5em;
        }

        @keyframes slidein {
            from {
                transform: translateY(100vh);
            }

            to {
                transform: translateY(0);
            }
        }

        @keyframes fadein {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
    <div id="bingo-win-bg">
        <div id="bingo-win" @click=${t}>
            <div
                class="outline-text"
                style="animation-duration: 0.5s; animation-name: slidein; font-size: 4em; text-align: center;"
            >
                You achieved Bingo.
            </div>
            <button
                class="outline-text"
                id="btn-restart"
                style="opacity: 0; animation-duration: 1s; animation-name: fadein; animation-delay: 0.5s; animation-fill-mode: forwards; font-size: 2em;"
            >
                True.
            </button>
        </div>
    </div>
`):I``}
    </div>
`;var t,n};jt(()=>{((e,t,n)=>{let i=j.get(t);void 0===i&&(r(t,t.firstChild),j.set(t,i=new E(Object.assign({templateFactory:D},n))),i.appendInto(t)),i.setValue(e),i.commit()})(So(_o),document.querySelector("#app"))}),Object.assign(window,{game:_o})}();
