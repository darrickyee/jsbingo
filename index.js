!function(){"use strict";
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const e=new WeakMap,t=t=>"function"==typeof t&&e.has(t),n="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,r=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},i={},o={},a=`{{lit-${String(Math.random()).slice(2)}}}`,s=`\x3c!--${a}--\x3e`,u=new RegExp(`${a}|${s}`);class c{constructor(e,t){this.parts=[],this.element=t;const n=[],r=[],i=document.createTreeWalker(t.content,133,null,!1);let o=0,s=-1,c=0;const{strings:l,values:{length:d}}=e;for(;c<d;){const e=i.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)p(t[e].name,"$lit$")&&r++;for(;r-- >0;){const t=l[c],n=f.exec(t)[2],r=n.toLowerCase()+"$lit$",i=e.getAttribute(r);e.removeAttribute(r);const o=i.split(u);this.parts.push({type:"attribute",index:s,name:n,strings:o}),c+=o.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),i.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(a)>=0){const r=e.parentNode,i=t.split(u),o=i.length-1;for(let t=0;t<o;t++){let n,o=i[t];if(""===o)n=h();else{const e=f.exec(o);null!==e&&p(e[2],"$lit$")&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),n=document.createTextNode(o)}r.insertBefore(n,e),this.parts.push({type:"node",index:++s})}""===i[o]?(r.insertBefore(h(),e),n.push(e)):e.data=i[o],c+=o}}else if(8===e.nodeType)if(e.data===a){const t=e.parentNode;null!==e.previousSibling&&s!==o||(s++,t.insertBefore(h(),e)),o=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(n.push(e),s--),c++}else{let t=-1;for(;-1!==(t=e.data.indexOf(a,t+1));)this.parts.push({type:"node",index:-1}),c++}}else i.currentNode=r.pop()}for(const e of n)e.parentNode.removeChild(e)}}const p=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},l=e=>-1!==e.index,h=()=>document.createComment(""),f=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class d{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=n?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let o,a=0,s=0,u=i.nextNode();for(;a<r.length;)if(o=r[a],l(o)){for(;s<o.index;)s++,"TEMPLATE"===u.nodeName&&(t.push(u),i.currentNode=u.content),null===(u=i.nextNode())&&(i.currentNode=t.pop(),u=i.nextNode());if("node"===o.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(u.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,o.name,o.strings,this.options));a++}else this.__parts.push(void 0),a++;return n&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const v=` ${a} `;class y{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],i=e.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===e.indexOf("--\x3e",i+1);const o=f.exec(e);t+=null===o?e+(n?v:s):e.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+a}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const b=e=>null===e||!("object"==typeof e||"function"==typeof e),g=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class m{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new _(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(b(e)||!g(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class _{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===i||b(e)&&e===this.value||(this.value=e,t(e)||(this.committer.dirty=!0))}commit(){for(;t(this.value);){const e=this.value;this.value=i,e(this)}this.value!==i&&this.committer.commit()}}class w{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(h()),this.endNode=e.appendChild(h())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=h()),e.__insert(this.endNode=h())}insertAfterPart(e){e.__insert(this.startNode=h()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;t(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i,e(this)}const e=this.__pendingValue;e!==i&&(b(e)?e!==this.value&&this.__commitText(e):e instanceof y?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):g(e)?this.__commitIterable(e):e===o?(this.value=o,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof d&&this.value.template===t)this.value.update(e.values);else{const n=new d(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const i of e)n=t[r],void 0===n&&(n=new w(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(i),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(e=this.startNode){r(this.startNode.parentNode,e.nextSibling,this.endNode)}}class E{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;t(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i,e(this)}if(this.__pendingValue===i)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=i}}class N extends m{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new O(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class O extends _{}let S=!1;(()=>{try{const e={get capture(){return S=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class A{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;t(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=i,e(this)}if(this.__pendingValue===i)return;const e=this.__pendingValue,n=this.value,r=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),o=null!=e&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=V(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=i}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const V=e=>e&&(S?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */;const x=new class{handleAttributeExpressions(e,t,n,r){const i=t[0];if("."===i){return new N(e,t.slice(1),n).parts}return"@"===i?[new A(e,t.slice(1),r.eventContext)]:"?"===i?[new E(e,t.slice(1),n)]:new m(e,t,n).parts}handleTextExpression(e){return new w(e)}};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */function P(e){let t=D.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},D.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(a);return n=t.keyString.get(r),void 0===n&&(n=new c(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const D=new Map,T=new WeakMap;
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");const j=(e,...t)=>new y(e,t,"html",x)
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */;var I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function k(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function R(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function L(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e}var z=[];Object.freeze(z);var M={};function U(){return++ut.mobxGuid}function H(e){throw B(!1,e),"X"}function B(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function F(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(M);var $=function(){};function G(e){return null!==e&&"object"==typeof e}function q(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function W(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function K(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function Y(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return G(e)&&!0===e[n]}}function J(e){return e instanceof Map}function X(e){return e instanceof Set}function Z(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function Q(e){return e&&e.toString?e.toString():new String(e).toString()}function ee(e){return null===e?null:"object"==typeof e?""+e:e}var te=Symbol("mobx administration"),ne=function(){function e(e){void 0===e&&(e="Atom@"+U()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=xe.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return dt(this)},e.prototype.reportChanged=function(){ht(),function(e){if(e.lowestObserverState===xe.STALE)return;e.lowestObserverState=xe.STALE,e.observers.forEach((function(t){t.dependenciesState===xe.UP_TO_DATE&&(t.isTracing!==Pe.NONE&&vt(t,e),t.onBecomeStale()),t.dependenciesState=xe.STALE}))}(this),ft()},e.prototype.toString=function(){return this.name},e}(),re=Y("Atom",ne);function ie(e,t,n){void 0===t&&(t=$),void 0===n&&(n=$);var r,i=new ne(e);return t!==$&&Ct("onBecomeObserved",i,t,r),n!==$&&It(i,n),i}var oe={identity:function(e,t){return e===t},structural:function(e,t){return In(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return In(e,t,1)}},ae=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),ue={},ce={};function pe(e,t){var n=t?ue:ce;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return le(this),this[e]},set:function(t){le(this),this[e]=t}})}function le(e){var t,n;if(!0!==e[ae]){var r=e[se];if(r){W(e,ae,!0);var i=L(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=k(i),a=o.next();!a.done;a=o.next()){var s=r[a.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}}function he(e,t){return function(){var n,r=function(r,i,o,a){if(!0===a)return t(r,i,o,r,n),null;if("production"===process.env.NODE_ENV||fe(arguments)||H("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(r,se)){var s=r[se];W(r,se,C({},s))}return r[se][i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},pe(i,e)};return fe(arguments)?(n=z,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function fe(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function de(e,t,n){return $t(e)?e:Array.isArray(e)?Ae.array(e,{name:n}):q(e)?Ae.object(e,void 0,{name:n}):J(e)?Ae.map(e,{name:n}):X(e)?Ae.set(e,{name:n}):e}function ve(e){return e}function ye(e){B(e);var t=he(!0,(function(t,n,r,i,o){"production"!==process.env.NODE_ENV&&B(!r||!r.get,'@observable cannot be used on getter (property "'+Q(n)+'"), use @computed instead.');var a=r?r.initializer?r.initializer.call(t):r.value:void 0;Nn(t).addObservableProp(n,a,e)})),n="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?H("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var be={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ge(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||H("invalid option for (extend)observable: "+e)}function me(e){if(null==e)return be;if("string"==typeof e)return{name:e,deep:!0,proxy:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof e)return H("expected options object");Object.keys(e).forEach(ge)}return e}Object.freeze(be);var _e=ye(de),we=ye((function(e,t,n){return null==e||xn(e)||dn(e)||gn(e)||wn(e)?e:Array.isArray(e)?Ae.array(e,{name:n,deep:!1}):q(e)?Ae.object(e,void 0,{name:n,deep:!1}):J(e)?Ae.map(e,{name:n,deep:!1}):X(e)?Ae.set(e,{name:n,deep:!1}):H("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),Ee=ye(ve),Ne=ye((function(e,t,n){if("production"!==process.env.NODE_ENV&&$t(e))throw"observable.struct should not be used with observable values";return In(e,t)?t:e}));function Oe(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?ve:de}var Se={box:function(e,t){arguments.length>2&&Ve("box");var n=me(t);return new et(e,Oe(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Ve("array");var n=me(t);return cn(e,Oe(n),n.name)},map:function(e,t){arguments.length>2&&Ve("map");var n=me(t);return new bn(e,Oe(n),n.name)},set:function(e,t){arguments.length>2&&Ve("set");var n=me(t);return new _n(e,Oe(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&Ve("object");var r=me(n);if(!1===r.proxy)return kt({},e,t,r);var i=Rt(r),o=kt({},void 0,void 0,r),a=en(o);return Lt(a,e,t,i),a},ref:Ee,shallow:we,deep:_e,struct:Ne},Ae=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return _e.apply(null,arguments);if($t(e))return e;var r=q(e)?Ae.object(e,t,n):Array.isArray(e)?Ae.array(e,t):J(e)?Ae.map(e,t):X(e)?Ae.set(e,t):e;if(r!==e)return r;H("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function Ve(e){H("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Se).forEach((function(e){return Ae[e]=Se[e]}));var xe,Pe,De=he(!1,(function(e,t,n,r,i){var o=n.get,a=n.set,s=i[0]||{};Nn(e).addComputedProp(e,t,C({get:o,set:a,context:e},s))})),Te=De({equals:oe.structural}),je=function(e,t,n){if("string"==typeof t)return De.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return De.apply(null,arguments);"production"!==process.env.NODE_ENV&&(B("function"==typeof e,"First argument to `computed` should be an expression."),B(arguments.length<3,"Computed takes one or two arguments if used as function"));var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new nt(r)};je.struct=Te,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(xe||(xe={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Pe||(Pe={}));var Ie=function(e){this.cause=e};function Ce(e){return e instanceof Ie}function ke(e){switch(e.dependenciesState){case xe.UP_TO_DATE:return!1;case xe.NOT_TRACKING:case xe.STALE:return!0;case xe.POSSIBLY_STALE:for(var t=Be(!0),n=Ue(),r=e.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(rt(a)){if(ut.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return He(n),Fe(t),!0}if(e.dependenciesState===xe.STALE)return He(n),Fe(t),!0}}return $e(e),He(n),Fe(t),!1}}function Re(e){var t=e.observers.size>0;ut.computationDepth>0&&t&&H("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),ut.allowStateChanges||!t&&"strict"!==ut.enforceActions||H("production"!==process.env.NODE_ENV&&(ut.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function Le(e,t,n){var r=Be(!0);$e(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++ut.runId;var i,o=ut.trackingDerivation;if(ut.trackingDerivation=e,!0===ut.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Ie(e)}return ut.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=xe.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,e.newObserving=null,o=t.length;for(;o--;){0===(s=t[o]).diffValue&&pt(s,e),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,ct(s,e))}r!==xe.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),function(e){if("production"===process.env.NODE_ENV)return;if(0!==e.observing.length)return;(ut.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}(e),Fe(r),i}function ze(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)pt(t[n],e);e.dependenciesState=xe.NOT_TRACKING}function Me(e){var t=Ue();try{return e()}finally{He(t)}}function Ue(){var e=ut.trackingDerivation;return ut.trackingDerivation=null,e}function He(e){ut.trackingDerivation=e}function Be(e){var t=ut.allowStateReads;return ut.allowStateReads=e,t}function Fe(e){ut.allowStateReads=e}function $e(e){if(e.dependenciesState!==xe.UP_TO_DATE){e.dependenciesState=xe.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=xe.UP_TO_DATE}}var Ge=0,qe=1,We=Object.getOwnPropertyDescriptor((function(){}),"name"),Ke=We&&We.configurable;function Ye(e,t,n){"production"!==process.env.NODE_ENV&&(B("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||H("actions should have valid names, got: '"+e+"'"));var r=function(){return Je(e,t,n||this,arguments)};return r.isMobxAction=!0,"production"!==process.env.NODE_ENV&&Ke&&Object.defineProperty(r,"name",{value:e}),r}function Je(e,t,n,r){var i=function(e,t,n){var r=_t()&&!!e,i=0;if(r&&"production"!==process.env.NODE_ENV){i=Date.now();var o=n&&n.length||0,a=new Array(o);if(o>0)for(var s=0;s<o;s++)a[s]=n[s];Et({type:"action",name:e,object:t,arguments:a})}var u=Ue();ht();var c=Xe(!0),p=Be(!0),l={prevDerivation:u,prevAllowStateChanges:c,prevAllowStateReads:p,notifySpy:r,startTime:i,actionId:qe++,parentActionId:Ge};return Ge=l.actionId,l}(e,n,r);try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{!function(e){Ge!==e.actionId&&H("invalid action stack. did you forget to finish an action?");Ge=e.parentActionId,void 0!==e.error&&(ut.suppressReactionErrors=!0);Ze(e.prevAllowStateChanges),Fe(e.prevAllowStateReads),ft(),He(e.prevDerivation),e.notifySpy&&"production"!==process.env.NODE_ENV&&Ot({time:Date.now()-e.startTime});ut.suppressReactionErrors=!1}(i)}}function Xe(e){var t=ut.allowStateChanges;return ut.allowStateChanges=e,t}function Ze(e){ut.allowStateChanges=e}function Qe(e){var t,n=ut.computationDepth;ut.computationDepth=0;try{t=e()}finally{ut.computationDepth=n}return t}var et=function(e){function t(t,n,r,i,o){void 0===r&&(r="ObservableValue@"+U()),void 0===i&&(i=!0),void 0===o&&(o=oe.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),i&&_t()&&"production"!==process.env.NODE_ENV&&wt({type:"create",name:a.name,newValue:""+a.value}),a}return function(e,t){function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==ut.UNCHANGED){var n=_t();n&&"production"!==process.env.NODE_ENV&&Et({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&"production"!==process.env.NODE_ENV&&Ot()}},t.prototype.prepareNewValue=function(e){if(Re(this),tn(this)){var t=rn(this,{object:this,type:"update",newValue:e});if(!t)return ut.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?ut.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),on(this)&&sn(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return nn(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),an(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return ee(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(ne),tt=Y("ObservableValue",et),nt=function(){function e(e){this.dependenciesState=xe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=xe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+U(),this.value=new Ie(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pe.NONE,B(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+U(),e.set&&(this.setter=Ye(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?oe.structural:oe.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==xe.UP_TO_DATE)return;e.lowestObserverState=xe.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===xe.UP_TO_DATE&&(t.dependenciesState=xe.POSSIBLY_STALE,t.isTracing!==Pe.NONE&&vt(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&H("Cycle detected in computation "+this.name+": "+this.derivation),0!==ut.inBatch||0!==this.observers.size||this.keepAlive?(dt(this),ke(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===xe.STALE)return;e.lowestObserverState=xe.STALE,e.observers.forEach((function(t){t.dependenciesState===xe.POSSIBLY_STALE?t.dependenciesState=xe.STALE:t.dependenciesState===xe.UP_TO_DATE&&(e.lowestObserverState=xe.UP_TO_DATE)}))}(this)):ke(this)&&(this.warnAboutUntrackedRead(),ht(),this.value=this.computeValue(!1),ft());var e=this.value;if(Ce(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Ce(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){B(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else B(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){_t()&&"production"!==process.env.NODE_ENV&&wt({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===xe.NOT_TRACKING,n=this.computeValue(!0),r=t||Ce(e)||Ce(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,ut.computationDepth++,e)t=Le(this,this.derivation,this.scope);else if(!0===ut.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new Ie(e)}return ut.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ze(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return Dt((function(){var o=n.get();if(!r||t){var a=Ue();e({type:"update",object:n,newValue:o,oldValue:i}),He(a)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&H("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==Pe.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),ut.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return ee(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),rt=Y("ComputedValue",nt),it=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ot={};function at(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:ot}var st=!0,ut=function(){var e=at();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(st=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new it).version&&(st=!1),st?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new it):(setTimeout((function(){H("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new it)}();function ct(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function pt(e,t){e.observers.delete(t),0===e.observers.size&&lt(e)}function lt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,ut.pendingUnobservations.push(e))}function ht(){ut.inBatch++}function ft(){if(0==--ut.inBatch){bt();for(var e=ut.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof nt&&n.suspend())}ut.pendingUnobservations=[]}}function dt(e){!function(e){"production"!==process.env.NODE_ENV&&!ut.allowStateReads&&ut.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}(e);var t=ut.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&ut.inBatch>0&&lt(e),!1)}function vt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Pe.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}((r=e,zt(Pn(r,i))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof nt?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,i}var yt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+U()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=xe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+U(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pe.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ut.pendingReactions.push(this),bt())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(ht(),this._isScheduled=!1,ke(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&_t()&&"production"!==process.env.NODE_ENV&&wt({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}ft()}},e.prototype.track=function(e){if(!this.isDisposed){ht();var t,n=_t();n&&"production"!==process.env.NODE_ENV&&(t=Date.now(),Et({name:this.name,type:"reaction"})),this._isRunning=!0;var r=Le(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ze(this),Ce(r)&&this.reportExceptionInDerivation(r.cause),n&&"production"!==process.env.NODE_ENV&&Ot({time:Date.now()-t}),ft()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(ut.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ut.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),_t()&&wt({type:"error",name:this.name,message:n,error:""+e}),ut.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ht(),ze(this),ft()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[te]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=Yt(e);if(!r)return H("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===Pe.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Pe.BREAK:Pe.LOG}(this,e)},e}();function bt(){ut.inBatch>0||ut.isRunningReactions||gt()}function gt(){ut.isRunningReactions=!0;for(var e=ut.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}ut.isRunningReactions=!1}var mt=Y("Reaction",yt);function _t(){return"production"!==process.env.NODE_ENV&&!!ut.spyListeners.length}function wt(e){if("production"!==process.env.NODE_ENV&&ut.spyListeners.length)for(var t=ut.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Et(e){"production"!==process.env.NODE_ENV&&wt(C(C({},e),{spyReportStart:!0}))}var Nt={spyReportEnd:!0};function Ot(e){"production"!==process.env.NODE_ENV&&wt(e?C(C({},e),{spyReportEnd:!0}):Nt)}function St(){H("production"!==process.env.NODE_ENV&&"@action fields are not reassignable")}function At(e){return function(t,n,r){if(r){if("production"!==process.env.NODE_ENV&&void 0!==r.get)return H("@action cannot be used with getters");if(r.value)return{value:Ye(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ye(e,i.call(this))}}}return Vt(e).apply(this,arguments)}}function Vt(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){W(this,n,xt(e,t))}})}}var xt=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Ye(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Ye(e,t):1===arguments.length&&"string"==typeof e?At(e):!0!==r?At(t).apply(null,arguments):void W(e,t,Ye(e.name||t,n.value,this))};function Pt(e,t,n){W(e,t,Ye(t,n.bind(e)))}function Dt(e,t){var n;void 0===t&&(t=M),"production"!==process.env.NODE_ENV&&(B("function"==typeof e,"Autorun expects a function as first argument"),B(!1==("function"==typeof(n=e)&&!0===n.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var r,i=t&&t.name||e.name||"Autorun@"+U();if(!t.scheduler&&!t.delay)r=new yt(i,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var o=jt(t),a=!1;r=new yt(i,(function(){a||(a=!0,o((function(){a=!1,r.isDisposed||r.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(r)}return r.schedule(),r.getDisposer()}xt.bound=function(e,t,n,r){return!0===r?(Pt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Pt(this,t,n.value||n.initializer.call(this)),this[t]},set:St}:{enumerable:!1,configurable:!0,set:function(e){Pt(this,t,e)},get:function(){}}};var Tt=function(e){return e()};function jt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Tt}function It(e,t,n){return Ct("onBecomeUnobserved",e,t,n)}function Ct(e,t,n,r){var i="function"==typeof r?Pn(t,n):Pn(t),o="function"==typeof r?r:n,a=e+"Listeners";return i[a]?i[a].add(o):i[a]=new Set([o]),"function"!=typeof i[e]?H("production"!==process.env.NODE_ENV&&"Not an atom that can be (un)observed"):function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}function kt(e,t,n,r){"production"!==process.env.NODE_ENV&&(B(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),B("object"==typeof e,"'extendObservable' expects an object as first argument"),B(!gn(e),"'extendObservable' should not be used on maps, use map.merge instead"));var i=Rt(r=me(r));return le(e),Nn(e,r.name,i.enhancer),t&&Lt(e,t,n,i),e}function Rt(e){return e.defaultDecorator||(!1===e.deep?Ee:_e)}function Lt(e,t,n,r){var i,o,a,s;if("production"!==process.env.NODE_ENV&&(B(!$t(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n)){var u=Z(n);try{for(var c=k(u),p=c.next();!p.done;p=c.next()){(f=p.value)in t||H("Trying to declare a decorator for unspecified property '"+Q(f)+"'")}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}ht();try{u=Z(t);try{for(var l=k(u),h=l.next();!h.done;h=l.next()){var f=h.value,d=Object.getOwnPropertyDescriptor(t,f);"production"!==process.env.NODE_ENV&&(q(t)||H("'extendObservabe' only accepts plain objects as second argument"),Bt(d.value)&&H("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var v=n&&f in n?n[f]:d.get?De:r;"production"!==process.env.NODE_ENV&&"function"!=typeof v&&H("Not a valid decorator for '"+Q(f)+"', got: "+v);var y=v(e,f,d,!0);y&&Object.defineProperty(e,f,y)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}}finally{ft()}}function zt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(zt)),r}function Mt(e,t,n){var r;if(gn(e)||dn(e)||tt(e))r=Dn(e);else{if(!xn(e))return H("production"!==process.env.NODE_ENV&&"Expected observable map, object or array as first array");if("string"!=typeof t)return H("production"!==process.env.NODE_ENV&&"InterceptReads can only be used with a specific property, not with an object in general");r=Dn(e,t)}return void 0!==r.dehancer?H("production"!==process.env.NODE_ENV&&"An intercept reader was already established"):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}function Ut(e,t,n){return"function"==typeof n?function(e,t,n){return Dn(e,t).intercept(n)}(e,t,n):function(e,t){return Dn(e).intercept(t)}(e,t)}function Ht(e,t){if(null==e)return!1;if(void 0!==t){if(!1===xn(e))return!1;if(!e[te].values.has(t))return!1;var n=Pn(e,t);return rt(n)}return rt(e)}function Bt(e){return arguments.length>1?H("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):Ht(e)}function Ft(e,t){return null!=e&&(void 0!==t?"production"!==process.env.NODE_ENV&&(gn(e)||dn(e))?H("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!xn(e)&&e[te].values.has(t):xn(e)||!!e[te]||re(e)||mt(e)||rt(e))}function $t(e){return 1!==arguments.length&&H("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Ft(e)}function Gt(e){return xn(e)?e[te].getKeys():gn(e)||wn(e)?Array.from(e.keys()):dn(e)?e.map((function(e,t){return t})):H("production"!==process.env.NODE_ENV&&"'keys()' can only be used on observable objects, arrays, sets and maps")}function qt(e){return xn(e)?Gt(e).map((function(t){return e[t]})):gn(e)?Gt(e).map((function(t){return e.get(t)})):wn(e)?Array.from(e.values()):dn(e)?e.slice():H("production"!==process.env.NODE_ENV&&"'values()' can only be used on observable objects, arrays, sets and maps")}function Wt(e,t,n){if(2!==arguments.length||wn(e))if(xn(e)){var r=e[te],i=r.values.get(t);i?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(gn(e))e.set(t,n);else if(wn(e))e.add(t);else{if(!dn(e))return H("production"!==process.env.NODE_ENV&&"'set()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),B(t>=0,"Not a valid index: '"+t+"'"),ht(),t>=e.length&&(e.length=t+1),e[t]=n,ft()}else{ht();var o=t;try{for(var a in o)Wt(e,a,o[a])}finally{ft()}}}function Kt(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return Dn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return Dn(e).observe(t,n)}(e,t,n)}function Yt(e){switch(e.length){case 0:return ut.trackingDerivation;case 1:return Pn(e[0]);case 2:return Pn(e[0],e[1])}}function Jt(e,t){void 0===t&&(t=void 0),ht();try{return e.apply(t)}finally{ft()}}function Xt(e){return e[te]}function Zt(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var Qt={has:function(e,t){if(t===te||"constructor"===t||t===ae)return!0;var n=Xt(e);return Zt(t)?n.has(t):t in e},get:function(e,t){if(t===te||"constructor"===t||t===ae)return e[t];var n=Xt(e),r=n.values.get(t);if(r instanceof ne){var i=r.get();return void 0===i&&n.has(t),i}return Zt(t)&&n.has(t),e[t]},set:function(e,t,n){return!!Zt(t)&&(Wt(e,t,n),!0)},deleteProperty:function(e,t){return!!Zt(t)&&(Xt(e).remove(t),!0)},ownKeys:function(e){return Xt(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return H("Dynamic observable objects cannot be frozen"),!1}};function en(e){var t=new Proxy(e,Qt);return e[te].proxy=t,t}function tn(e){return void 0!==e.interceptors&&e.interceptors.length>0}function nn(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),F((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function rn(e,t){var n=Ue();try{for(var r=L(e.interceptors||[]),i=0,o=r.length;i<o&&(B(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{He(n)}}function on(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function an(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),F((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function sn(e,t){var n=Ue(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);He(n)}}var un={get:function(e,t){return t===te?e[te]:"length"===t?e[te].getArrayLength():"number"==typeof t?ln.get.call(e,t):"string"!=typeof t||isNaN(t)?ln.hasOwnProperty(t)?ln[t]:e[t]:ln.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[te].setArrayLength(n),"number"==typeof t&&ln.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:ln.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return H("Observable arrays cannot be frozen"),!1}};function cn(e,t,n,r){void 0===n&&(n="ObservableArray@"+U()),void 0===r&&(r=!1);var i,o,a,s=new pn(n,t,r);i=s.values,o=te,a=s,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(s.values,un);if(s.proxy=u,e&&e.length){var c=Xe(!0);s.spliceWithArray(0,0,e),Ze(c)}return u}var pn=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new ne(e||"ObservableArray@"+U()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return nn(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),an(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;Re(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=z),tn(this)){var o=rn(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!o)return z;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)})),"production"!==process.env.NODE_ENV){var a=n.length-t;this.updateArrayLength(i,a)}var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,L([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&_t(),i=on(this),o=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;r&&"production"!==process.env.NODE_ENV&&Et(C(C({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&sn(this,o),r&&"production"!==process.env.NODE_ENV&&Ot()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&_t(),i=on(this),o=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&"production"!==process.env.NODE_ENV&&Et(C(C({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&sn(this,o),r&&"production"!==process.env.NODE_ENV&&Ot()},e}(),ln={intercept:function(e){return this[te].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[te].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[te];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[te];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[te].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[te];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[te].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[te];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[te],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[te];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[te],r=n.values;if(e<r.length){Re(n.atom);var i=r[e];if(tn(n)){var o=rn(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){ln[e]=function(){var t=this[te];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}}));var hn,fn=Y("ObservableArrayAdministration",pn);function dn(e){return G(e)&&fn(e[te])}var vn,yn={},bn=function(){function e(e,t,n){if(void 0===t&&(t=de),void 0===n&&(n="ObservableMap@"+U()),this.enhancer=t,this.name=n,this[hn]=yn,this._keysAtom=ie(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!ut.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new et(this._has(e),ve,this.name+"."+Q(e)+"?",!1);this._hasMap.set(e,r),It(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(tn(this)){var r=rn(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(tn(this)&&!(i=rn(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=_t(),r=on(this),i=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&"production"!==process.env.NODE_ENV&&Et(C(C({},i),{name:this.name,key:e})),Jt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&sn(this,i),n&&"production"!==process.env.NODE_ENV&&Ot(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==ut.UNCHANGED){var r=_t(),i=on(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&Et(C(C({},o),{name:this.name,key:e})),n.setNewValue(t),i&&sn(this,o),r&&"production"!==process.env.NODE_ENV&&Ot()}},e.prototype._addValue=function(e,t){var n=this;Re(this._keysAtom),Jt((function(){var r=new et(t,n.enhancer,n.name+"."+Q(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=_t(),i=on(this),o=i||r?{type:"add",object:this,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&Et(C(C({},o),{name:this.name,key:e})),i&&sn(this,o),r&&"production"!==process.env.NODE_ENV&&Ot()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return Rn({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,n=Array.from(this.keys());return Rn({next:function(){if(t<n.length){var r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype[(hn=te,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var i=k(this),o=i.next();!o.done;o=i.next()){var a=R(o.value,2),s=a[0],u=a[1];e.call(t,u,s,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return gn(e)&&(e=e.toJS()),Jt((function(){q(e)?Z(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=R(e,2),r=n[0],i=n[1];return t.set(r,i)})):J(e)?(e.constructor!==Map&&H("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&H("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;Jt((function(){Me((function(){var t,n;try{for(var r=k(e.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return Jt((function(){var n=function(e){return q(e)?Object.keys(e):Array.isArray(e)?e.map((function(e){return R(e,1)[0]})):J(e)||gn(e)?Array.from(e.keys()):H("Cannot get keys from '"+e+"'")}(e);Array.from(t.keys()).filter((function(e){return-1===n.indexOf(e)})).forEach((function(e){return t.delete(e)})),t.merge(e)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=k(this),i=r.next();!i.done;i=r.next()){var o=R(i.value,2),a=o[0],s=o[1];n["symbol"==typeof a?a:Q(a)]=s}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return Q(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&B(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),an(this,e)},e.prototype.intercept=function(e){return nn(this,e)},e}(),gn=Y("ObservableMap",bn),mn={},_n=function(){function e(e,t,n){if(void 0===t&&(t=de),void 0===n&&(n="ObservableSet@"+U()),this.name=n,this[vn]=mn,this._data=new Set,this._atom=ie(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Jt((function(){Me((function(){var t,n;try{for(var r=k(e._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var i=k(this),o=i.next();!o.done;o=i.next()){var a=o.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((Re(this._atom),tn(this))&&!(i=rn(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Jt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=_t(),r=on(this),i=r||n?{type:"add",object:this,newValue:e}:null;n&&"production"!==process.env.NODE_ENV&&Et(i),r&&sn(this,i),n&&"production"!==process.env.NODE_ENV&&Ot()}return this},e.prototype.delete=function(e){var t=this;if(tn(this)&&!(i=rn(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=_t(),r=on(this),i=r||n?{type:"delete",object:this,oldValue:e}:null;return n&&"production"!==process.env.NODE_ENV&&Et(C(C({},i),{name:this.name})),Jt((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&sn(this,i),n&&"production"!==process.env.NODE_ENV&&Ot(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Rn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return Rn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return wn(e)&&(e=e.toJS()),Jt((function(){Array.isArray(e)||X(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&H("Cannot initialize set from "+e)})),this},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&B(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),an(this,e)},e.prototype.intercept=function(e){return nn(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(vn=te,Symbol.iterator)]=function(){return this.values()},e}(),wn=Y("ObservableSet",_n),En=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new ne(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof nt)r.set(t);else{if(tn(this)){if(!(a=rn(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=a.newValue}if((t=r.prepareNewValue(t))!==ut.UNCHANGED){var i=on(this),o=_t(),a=i||o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;o&&"production"!==process.env.NODE_ENV&&Et(C(C({},a),{name:this.name,key:e})),r.setNewValue(t),i&&sn(this,a),o&&"production"!==process.env.NODE_ENV&&Ot()}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new et(r,ve,this.name+"."+Q(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r,i,o=this.target;if(r=o,i=e,"production"===process.env.NODE_ENV||K(r,i)||H("Cannot make property '"+i.toString()+"' observable, it is not configurable and writable in the target object"),tn(this)){var a=rn(this,{object:this.proxy||o,name:e,type:"add",newValue:t});if(!a)return;t=a.newValue}var s=new et(t,n,this.name+"."+Q(e),!1);this.values.set(e,s),t=s.value,Object.defineProperty(o,e,function(e){return On[e]||(On[e]={configurable:!0,enumerable:!0,get:function(){return this[te].read(e)},set:function(t){this[te].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+Q(t),this.values.set(t,new nt(n)),(e===r||K(e,t))&&Object.defineProperty(e,t,function(e){return Sn[e]||(Sn[e]={configurable:ut.computedConfigurable,enumerable:!1,get:function(){return An(this).read(e)},set:function(t){An(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(tn(this))if(!(s=rn(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{ht();var n=on(this),r=_t(),i=this.values.get(e),o=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!1)}delete this.target[e];var s=n||r?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;r&&"production"!==process.env.NODE_ENV&&Et(C(C({},s),{name:this.name,key:e})),n&&sn(this,s),r&&"production"!==process.env.NODE_ENV&&Ot()}finally{ft()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&B(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),an(this,e)},e.prototype.intercept=function(e){return nn(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=on(this),r=_t(),i=n||r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&"production"!==process.env.NODE_ENV&&Et(C(C({},i),{name:this.name,key:e})),n&&sn(this,i),r&&"production"!==process.env.NODE_ENV&&Ot(),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=k(this.values),i=r.next();!i.done;i=r.next()){var o=R(i.value,2),a=o[0];o[1]instanceof et&&n.push(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Nn(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=de),Object.prototype.hasOwnProperty.call(e,te))return e[te];"production"!==process.env.NODE_ENV&&B(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),q(e)||(t=(e.constructor.name||"ObservableObject")+"@"+U()),t||(t="ObservableObject@"+U());var r=new En(e,new Map,Q(t),n);return W(e,te,r),r}var On=Object.create(null),Sn=Object.create(null);function An(e){var t=e[te];return t||(le(e),e[te])}var Vn=Y("ObservableObjectAdministration",En);function xn(e){return!!G(e)&&(le(e),Vn(e[te]))}function Pn(e,t){if("object"==typeof e&&null!==e){if(dn(e))return void 0!==t&&H("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e[te].atom;if(wn(e))return e[te];if(gn(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||H("production"!==process.env.NODE_ENV&&"the entry '"+t+"' does not exist in the observable map '"+Tn(e)+"'"),r)}var r;if(le(e),t&&!e[te]&&e[t],xn(e))return t?((r=e[te].values.get(t))||H("production"!==process.env.NODE_ENV&&"no observable property '"+t+"' found on the observable object '"+Tn(e)+"'"),r):H("production"!==process.env.NODE_ENV&&"please specify a property");if(re(e)||rt(e)||mt(e))return e}else if("function"==typeof e&&mt(e[te]))return e[te];return H("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+e)}function Dn(e,t){return e||H("Expecting some object"),void 0!==t?Dn(Pn(e,t)):re(e)||rt(e)||mt(e)||gn(e)||wn(e)?e:(le(e),e[te]?e[te]:void H("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+e))}function Tn(e,t){return(void 0!==t?Pn(e,t):xn(e)||gn(e)||wn(e)?Dn(e):Pn(e)).name}var jn=Object.prototype.toString;function In(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var s=jn.call(t);if(s!==jn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=Cn(t),n=Cn(n);var u="[object Array]"===s;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,p=n.constructor;if(c!==p&&!("function"==typeof c&&c instanceof c&&"function"==typeof p&&p instanceof p)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var l=(i=i||[]).length;for(;l--;)if(i[l]===t)return o[l]===n;if(i.push(t),o.push(n),u){if((l=t.length)!==n.length)return!1;for(;l--;)if(!e(t[l],n[l],r-1,i,o))return!1}else{var h=Object.keys(t),f=void 0;if(l=h.length,Object.keys(n).length!==l)return!1;for(;l--;)if(f=h[l],!kn(n,f)||!e(t[f],n[f],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function Cn(e){return dn(e)?e.slice():J(e)||gn(e)||X(e)||wn(e)?Array.from(e.entries()):e}function kn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rn(e){return e[Symbol.iterator]=Ln,e}function Ln(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{process.env.NODE_ENV}catch(e){var zn=at();"undefined"==typeof process&&(zn.process={}),zn.process.env={}}!function(){if("testCodeMinification"!==function(){}.name&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof process&&"true"!==process.env.IGNORE_MOBX_MINIFY_WARNING){var e=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+e+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}(),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return"production"===process.env.NODE_ENV?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(ut.spyListeners.push(e),F((function(){ut.spyListeners=ut.spyListeners.filter((function(t){return t!==e}))})))},extras:{getDebugName:Tn},$mobx:te});var Mn;!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(Mn||(Mn={}));
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var Un=function(e,t){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Hn(e,t){function n(){this.constructor=e}Un(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Bn=function(){return(Bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Fn(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function $n(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Gn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function qn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gn(arguments[t]));return e}function Wn(e){return xr(e,1),Pr(e).type}function Kn(e,t){xr(e,1),Qr(t,(function(e){return"object"==typeof e}),"object or array",2),Pr(e).applyPatches(Hr(t))}function Yn(e,t){void 0===t&&(t=!0),xr(e,1);var n=Pr(e);return t?n.snapshot:Gr(n.type.getSnapshot(n,!1))}function Jn(e){return xr(e,1),Pr(e).root.storedValue}var Xn,Zn=function(){function e(e,t,n,r){this.type=e,this.environment=r,this._state=Er.INITIALIZING,this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!0,configurable:!0}),e.prototype.fireInternalHook=function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)},e.prototype.registerHook=function(e,t){return this._hookSubscribers||(this._hookSubscribers=new Yr),this._hookSubscribers.register(e,t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e.prototype.baseSetParent=function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()},Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!0,configurable:!0}),e.prototype.getEscapedPath=function(e){return e&&(this.pathAtom||(this.pathAtom=ie("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?ii(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""},Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Er.DEAD},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Er.DETACHING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=ie("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!0,configurable:!0}),e.prototype.baseFinalizeCreation=function(e){if(Zr()&&!this.isAlive)throw fail("assertion failed: cannot finalize the creation of a node that is already dead");if(this.state===Er.CREATED){if(this.parent){if(this.parent.state!==Er.FINALIZED)return;this.fireHook(Mn.afterAttach)}this.state=Er.FINALIZED,e&&e()}},e.prototype.baseFinalizeDeath=function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Er.DEAD},e.prototype.baseAboutToDie=function(){this.fireHook(Mn.beforeDestroy)},e}(),Qn=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(e){throw a.state=Er.DEAD,e}return a.state=Er.CREATED,a.finalizeCreation(),a}return Hn(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw Lr("This scalar node is not part of a tree");return this.parent.root},enumerable:!0,configurable:!0}),t.prototype.setParent=function(e,t){var n=this.parent!==e,r=this.subpath!==t;if(n||r){if(Zr()){if(!t)throw Lr("assertion failed: subpath expected");if(!e)throw Lr("assertion failed: parent expected");if(n)throw Lr("assertion failed: scalar nodes cannot change their parent")}this.environment=void 0,this.baseSetParent(this.parent,t)}},Object.defineProperty(t.prototype,"snapshot",{get:function(){return Gr(this.getSnapshot())},enumerable:!0,configurable:!0}),t.prototype.getSnapshot=function(){return this.type.getSnapshot(this)},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")},t.prototype.die=function(){this.isAlive&&this.state!==Er.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.finalizeCreation=function(){this.baseFinalizeCreation()},t.prototype.aboutToDie=function(){this.baseAboutToDie()},t.prototype.finalizeDeath=function(){this.baseFinalizeDeath()},t.prototype.fireHook=function(e){this.fireInternalHook(e)},Fn([xt],t.prototype,"die",null),t}(Zn),er=1,tr={onError:function(e){throw e}},nr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;if(a.nodeId=++er,a.isProtectionEnabled=!0,a._autoUnbox=!0,a._isRunningAction=!1,a._hasSnapshotReaction=!1,a._observableInstanceState=0,a._cachedInitialSnapshotCreated=!1,a.unbox=a.unbox.bind(a),a._initialSnapshot=Gr(o),a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new Or),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s){var u=a._childNodes[a.identifierAttribute];u&&(s=u.value)}if("string"!=typeof s&&"number"!=typeof s)throw Lr("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=to(s),a.unnormalizedIdentifier=s}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return Hn(t,e),t.prototype.applyPatches=function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)},t.prototype.applySnapshot=function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)},t.prototype.createObservableInstanceIfNeeded=function(){0===this._observableInstanceState&&this.createObservableInstance()},t.prototype.createObservableInstance=function(){var e,t;if(Zr()&&this.state!==Er.INITIALIZING)throw Lr("assertion failed: the creation of the observable instance must be done on the initializing phase");this._observableInstanceState=1;for(var n=[],r=this.parent;r&&0===r._observableInstanceState;)n.unshift(r),r=r.parent;try{for(var i=$n(n),o=i.next();!o.done;o=i.next()){o.value.createObservableInstanceIfNeeded()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var a=this.type;try{this.storedValue=a.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,a.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=Er.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,Pn(this,"snapshot").trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=kr,this.state=Er.CREATED,this.fireHook(Mn.afterCreate),this.finalizeCreation()},Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!0,configurable:!0}),t.prototype.clearParent=function(){if(this.parent){this.fireHook(Mn.beforeDetach);var e=this.state;this.state=Er.DETACHING;var t=this.root,n=t.environment,r=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=e}}},t.prototype.setParent=function(e,t){var n=e!==this.parent,r=t!==this.subpath;if(n||r){if(Zr()){if(!t)throw Lr("assertion failed: subpath expected");if(!e)throw Lr("assertion failed: new parent expected");if(this.parent&&n)throw Lr("A node cannot exists twice in the state tree. Failed to add "+this+" to path '"+e.path+"/"+t+"'.");if(!this.parent&&e.root===this)throw Lr("A state tree is not allowed to contain itself. Cannot assign "+this+" to path '"+e.path+"/"+t+"'");if(!this.parent&&this.environment&&this.environment!==e.root.environment)throw Lr("A state tree cannot be made part of another state tree as long as their environments are different.")}n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(Mn.afterAttach)):r&&this.baseSetParent(this.parent,t)}},t.prototype.fireHook=function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(Qe?Qe((function(){n.apply(t.storedValue)})):n.apply(this.storedValue))},Object.defineProperty(t.prototype,"snapshot",{get:function(){return Gr(this.getSnapshot())},enumerable:!0,configurable:!0}),t.prototype.getSnapshot=function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath},t.prototype._getActualSnapshot=function(){return this.type.getSnapshot(this)},t.prototype._getCachedInitialSnapshot=function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot},t.prototype.isRunningAction=function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()},t.prototype.assertAlive=function(e){var t;if(!this.isAlive){var n=this._getAssertAliveError(e);t=n,console.warn(new Error("[mobx-state-tree] "+t))}},t.prototype._getAssertAliveError=function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&ii(e.subpath)||"",r=e.actionContext||ur;r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var i,o="";r&&null!=r.name&&(o=(r&&r.context&&(xr(i=r.context,1),Pr(i).path)||t)+"."+r.name+"()");return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+o+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."},t.prototype.getChildNode=function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}},t.prototype.getChildren=function(){this.assertAlive(kr),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):Ir(this._childNodes)}finally{this._autoUnbox=!0}},t.prototype.getChildType=function(e){return this.type.getChildType(e)},Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!0,configurable:!0}),t.prototype.assertWritable=function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw Lr("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")},t.prototype.removeChild=function(e){this.type.removeChild(this,e)},t.prototype.unbox=function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")},t.prototype.finalizeCreation=function(){var e=this;this.baseFinalizeCreation((function(){var t,n;try{for(var r=$n(e.getChildren()),i=r.next();!i.done;i=r.next()){i.value.finalizeCreation()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.fireInternalHook(Mn.afterCreationFinalization)}))},t.prototype.detach=function(){if(!this.isAlive)throw Lr("Error while detaching, node is not alive.");this.clearParent()},t.prototype.preboot=function(){var e=this;this._applyPatches=fr(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){var n=function(e){var t=e.split("/").map(oi);if(!(""===e||"."===e||".."===e||Xr(e,"/")||Xr(e,"./")||Xr(e,"../")))throw Lr("a json path must be either rooted, empty or relative, but got '"+e+"'");""===t[0]&&t.shift();return t}(t.path);jr(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)}))})),this._applySnapshot=fr(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),qr(this.storedValue,"$treenode",this),qr(this.storedValue,"toJSON",Tr)},t.prototype.die=function(){this.isAlive&&this.state!==Er.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.aboutToDie=function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))},t.prototype.finalizeDeath=function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()},t.prototype.onSnapshot=function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)},t.prototype.emitSnapshot=function(e){this._internalEventsEmit("snapshot",e)},t.prototype.onPatch=function(e){return this._internalEventsRegister("patch",e)},t.prototype.emitPatch=function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=Gn(function(e){if(!("oldValue"in e))throw Lr("Patches without `oldValue` field cannot be inversed");return[ni(e),ri(e)]}(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),2),r=n[0],i=n[1];this._internalEventsEmit("patch",r,i)}this.parent&&this.parent.emitPatch(e,t)},t.prototype.hasDisposer=function(e){return this._internalEventsHas("dispose",e)},t.prototype.addDisposer=function(e){if(this.hasDisposer(e))throw Lr("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)},t.prototype.removeDisposer=function(e){if(!this._internalEventsHas("dispose",e))throw Lr("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)},t.prototype.removeMiddleware=function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}},t.prototype.addMiddleWare=function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}},t.prototype.applyPatchLocally=function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)},t.prototype._addSnapshotReaction=function(){var e=this;if(!this._hasSnapshotReaction){var t=function(e,t,n){void 0===n&&(n=M),"production"!==process.env.NODE_ENV&&(B("function"==typeof e,"First argument to reaction should be a function"),B("object"==typeof n,"Third argument of reactions should be an object"));var r,i,o,a=n.name||"Reaction@"+U(),s=xt(a,n.onError?(r=n.onError,i=t,function(){try{return i.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,c=jt(n),p=!0,l=!1,h=n.compareStructural?oe.structural:n.equals||oe.default,f=new yt(a,(function(){p||u?d():l||(l=!0,c(d))}),n.onError,n.requiresObservable);function d(){if(l=!1,!f.isDisposed){var t=!1;f.track((function(){var n=e(f);t=p||!h(o,n),o=n})),p&&n.fireImmediately&&s(o,f),p||!0!==t||s(o,f),p&&(p=!1)}}return f.schedule(),f.getDisposer()}((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),tr);this.addDisposer(t),this._hasSnapshotReaction=!0}},t.prototype._internalEventsHasSubscribers=function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)},t.prototype._internalEventsRegister=function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new Yr),this._internalEvents.register(e,t,n)},t.prototype._internalEventsHas=function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)},t.prototype._internalEventsUnregister=function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)},t.prototype._internalEventsEmit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,qn([e],n))},t.prototype._internalEventsClear=function(e){this._internalEvents&&this._internalEvents.clear(e)},t.prototype._internalEventsClearAll=function(){this._internalEvents&&this._internalEvents.clearAll()},Fn([xt],t.prototype,"createObservableInstance",null),Fn([je],t.prototype,"snapshot",null),Fn([xt],t.prototype,"detach",null),Fn([xt],t.prototype,"die",null),t}(Zn);!function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(Xn||(Xn={}));var rr=function(){function e(e){this.isType=!0,this.name=e}return e.prototype.create=function(e,t){return wr(this,e),this.instantiate(null,"",t,e).value},e.prototype.getSnapshot=function(e,t){throw Lr("unimplemented method")},e.prototype.isAssignableFrom=function(e){return e===this},e.prototype.validate=function(e,t){if(Dr(e)){var n=Wn(e);return this.isAssignableFrom(n)?gr():mr(t,e)}return this.isValidSnapshot(e,t)},e.prototype.is=function(e){return 0===this.validate(e,[{path:"",type:this}]).length},Object.defineProperty(e.prototype,"Type",{get:function(){throw Lr("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw Lr("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw Lr("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw Lr("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!0,configurable:!0}),Fn([xt],e.prototype,"create",null),e}(),ir=function(e){function t(t){return e.call(this,t)||this}return Hn(t,e),t.prototype.create=function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)},t.prototype.getValue=function(e){return e.createObservableInstanceIfNeeded(),e.storedValue},t.prototype.tryToReconcileNode=function(e,t){return!e.isDetaching&&(e.snapshot===t||(!(!Vr(t)||Pr(t)!==e)||!(e.type!==this||!Fr(t)||Vr(t)||e.identifierAttribute&&e.identifier!==to(t[e.identifierAttribute]))&&(e.applySnapshot(t),!0)))},t.prototype.reconcile=function(e,t,n,r){if(this.tryToReconcileNode(e,t))return e.setParent(n,r),e;if(e.die(),Vr(t)&&this.isAssignableFrom(Wn(t))){var i=Pr(t);return i.setParent(n,r),i}return this.instantiate(n,r,void 0,t)},t.prototype.getSubTypes=function(){return null},Fn([xt],t.prototype,"create",null),t}(rr),or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hn(t,e),t.prototype.createNewInstance=function(e){return e},t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(n,r,void 0,t);return e.die(),i},t.prototype.getSubTypes=function(){return null},t}(rr);function ar(e){return"object"==typeof e&&e&&!0===e.isType}function sr(e,t){Qr(e,ar,"mobx-state-tree type",t)}!function(){function e(e,t){this.hooks=e,this.call=t,this.flowsPending=0,this.running=!0,e&&e.onStart(t)}e.prototype.finish=function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))},e.prototype.incFlowsPending=function(){this.flowsPending++},e.prototype.decFlowsPending=function(){this.flowsPending--},Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!0,configurable:!0})}();var ur,cr=1;function pr(){return cr++}function lr(e,t){var n=Pr(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var i=ur;ur=e;try{return function(e,t,n){var r=new dr(e,n);if(r.isEmpty)return xt(n).apply(null,t.args);var i=null;return function e(t){var o=r.getNextMiddleware(),a=o&&o.handler;if(!a)return xt(n).apply(null,t.args);if(!o.includeHooks&&Mn[t.name])return e(t);var s=!1,u=!1;if(a(t,(function(t,n){s=!0,i=e(t),n&&(i=n(i))}),(function(e){u=!0,i=e})),Zr()){if(!s&&!u){var c=Pr(t.tree);throw Lr("Neither the next() nor the abort() callback within the middleware "+a.name+' for the action: "'+t.name+'" on the node: '+c.type.name+" was invoked.")}if(s&&u){c=Pr(t.tree);throw Lr("The next() and abort() callback within the middleware "+a.name+' for the action: "'+t.name+'" on the node: '+c.type.name+" were invoked.")}}return i}(t)}(n,e,t)}finally{ur=i,n._isRunningAction=r}}function hr(e){if(e)return"action"===e.type?e:e.parentActionEvent}function fr(e,t,n){var r=function(){var r=pr(),i=ur,o=hr(i);return lr({type:"action",name:t,id:r,args:Jr(arguments),context:e,tree:Jn(e),rootId:i?i.rootId:r,parentId:i?i.id:0,allParentIds:i?qn(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},n)};return r._isMSTAction=!0,r}var dr=function(){function e(e,t){this.arrayIndex=0,this.inArrayIndex=0,this.middlewares=[],t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var n=e;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!0,configurable:!0}),e.prototype.getNextMiddleware=function(){var e=this.middlewares[this.arrayIndex];if(e){var t=e[this.inArrayIndex++];return t||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}},e}();function vr(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":Vr(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function yr(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=r.length>0?'at path "/'+r+'" ':"",o=Vr(t)?"value of type "+Pr(t).type.name+":":$r(t)?"value":"snapshot",a=n&&Vr(t)&&n.is(Pr(t).snapshot);return""+i+o+" "+vr(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?function(e){return ar(e)&&(e.flags&(Xn.String|Xn.Number|Xn.Integer|Xn.Boolean|Xn.Date))>0}(n)||$r(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function br(e,t,n){return e.concat([{path:t,type:n}])}function gr(){return Cr}function mr(e,t,n){return[{context:e,value:t,message:n}]}function _r(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function wr(e,t){(Zr()||"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK)&&function(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw Lr(function(e,t,n){if(0===n.length)return;return"Error while converting "+(r=vr(t),(r.length<280?r:r.substring(0,272)+"......"+r.substring(r.length-8))+" to `")+e.name+"`:\n\n    "+n.map(yr).join("\n    ");var r}(e,t,n))}(e,t)}var Er,Nr=0,Or=function(){function e(){this.cacheId=Nr++,this.cache=Ae.map(),this.lastCacheModificationPerId=Ae.map()}return e.prototype.updateLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)},e.prototype.getLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t},e.prototype.addNodeToCache=function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,Ae.array([],Rr));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw Lr("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}},e.prototype.mergeCache=function(e){var t=this;qt(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))},e.prototype.notifyDied=function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}},e.prototype.splitCache=function(t){var n,r=this,i=new e,o=t.path;return(n=this.cache,xn(n)?Gt(n).map((function(e){return[e,n[e]]})):gn(n)?Gt(n).map((function(e){return[e,n.get(e)]})):wn(n)?Array.from(n.entries()):dn(n)?n.map((function(e,t){return[t,e]})):H("production"!==process.env.NODE_ENV&&"'entries()' can only be used on observable objects, arrays and maps")).forEach((function(e){for(var t=Gn(e,2),n=t[0],a=t[1],s=!1,u=a.length-1;u>=0;u--)0===a[u].path.indexOf(o)&&(i.addNodeToCache(a[u],!1),a.splice(u,1),s=!0);s&&r.updateLastCacheModificationPerId(n)})),i},e.prototype.has=function(e,t){var n=this.cache.get(t);return!!n&&n.some((function(t){return e.isAssignableFrom(t.type)}))},e.prototype.resolve=function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter((function(t){return e.isAssignableFrom(t.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw Lr("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map((function(e){return e.path})).join(", "))}},e}();function Sr(e,t,n,r,i){var o=Dr(i);if(o){if(o.parent)throw Lr("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,n),o}return new nr(e,t,n,r,i)}function Ar(e,t,n,r,i){return new Qn(e,t,n,r,i)}function Vr(e){return!(!e||!e.$treenode)}function xr(e,t){Qr(e,Vr,"mobx-state-tree node",t)}function Pr(e){if(!Vr(e))throw Lr("Value "+e+" is no MST Node");return e.$treenode}function Dr(e){return e&&e.$treenode||null}function Tr(){return Pr(this).snapshot}function jr(e,t,n){void 0===n&&(n=!0);for(var r=e,i=0;i<t.length;i++){var o=t[i];if(".."===o){if(r=r.parent)continue}else{if("."===o)continue;if(r){if(r instanceof Qn)try{var a=r.value;Vr(a)&&(r=Pr(a))}catch(e){if(!n)return;throw e}if(r instanceof nr)if(r.getChildType(o)&&(r=r.getChildNode(o)))continue}}if(n)throw Lr("Could not resolve '"+o+"' in path '"+(ai(t.slice(0,i))||"/")+"' while resolving '"+ai(t)+"'");return}return r}function Ir(e){if(!e)return Cr;var t=Object.keys(e);if(!t.length)return Cr;var n=new Array(t.length);return t.forEach((function(t,r){n[r]=e[t]})),n}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(Er||(Er={}));var Cr=Object.freeze([]),kr=Object.freeze({}),Rr="string"==typeof te?{deep:!1}:{deep:!1,proxy:!1};function Lr(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function zr(e){return e}Object.freeze(Rr);var Mr=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Ur(e){return Array.isArray(e)||dn(e)}function Hr(e){return e?Ur(e)?e:[e]:Cr}function Br(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Fr(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function $r(e,t){return void 0===t&&(t=!0),null==e||!!("string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date)}function Gr(e){return Zr()?$r(e)||dn(e)?e:Object.freeze(e):e}function qr(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Wr(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}var Kr=function(){function e(){this.handlers=[]}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}},e.prototype.has=function(e){return this.handlers.indexOf(e)>=0},e.prototype.unregister=function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)},e.prototype.clear=function(){this.handlers.length=0},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.handlers.slice();n.forEach((function(t){return t.apply(void 0,qn(e))}))},e}(),Yr=function(){function e(){}return e.prototype.hasSubscribers=function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers},e.prototype.register=function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new Kr),r.register(t,n)},e.prototype.has=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)},e.prototype.unregister=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)},e.prototype.clear=function(e){this.eventHandlers&&delete this.eventHandlers[e]},e.prototype.clearAll=function(){this.eventHandlers=void 0},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,qn(n))},e}();function Jr(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function Xr(e,t){return 0===e.indexOf(t)}function Zr(){return"production"!==process.env.NODE_ENV}function Qr(e,t,n,r){if(Zr()&&!t(e))throw Lr("expected "+n+" as argument "+Hr(r).join(" or ")+", got "+e+" instead")}function ei(e,t){Qr(e,(function(e){return"function"==typeof e}),"function",t)}function ti(e,t,n){void 0===n&&(n=!0),Qr(e,(function(e){return"string"==typeof e}),"string",t),n||Qr(e,(function(e){return""!==e}),"not empty string",t)}function ni(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function ri(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function ii(e){return!0==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function oi(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function ai(e){if(0===e.length)return"";var t=function(e){return e.map(ii).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}var si=function(e){function t(t,n,r){var i=e.call(this,r||t.name)||this;return i._subtype=t,i._processors=n,i}return Hn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Xn.SnapshotProcessor},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return"snapshotProcessor("+this._subtype.describe()+")"},t.prototype.preProcessSnapshot=function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e},t.prototype.postProcessSnapshot=function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e},t.prototype._fixNode=function(e){var t=this;!function(e,t){for(var n,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=$n(i),s=a.next();!s.done;s=a.next()){var u=s.value;e[u]=t[u].bind(t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(e.type,this,"isAssignableFrom","create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))}},t.prototype.instantiate=function(e,t,n,r){var i=Vr(r)?r:this.preProcessSnapshot(r),o=this._subtype.instantiate(e,t,n,i);return this._fixNode(o),o},t.prototype.reconcile=function(e,t,n,r){var i=this._subtype.reconcile(e,Vr(t)?t:this.preProcessSnapshot(t),n,r);return i!==e&&this._fixNode(i),i},t.prototype.getSnapshot=function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n},t.prototype.isValidSnapshot=function(e,t){var n=this.preProcessSnapshot(e);return this._subtype.validate(n,t)},t.prototype.getSubTypes=function(){return this._subtype},t.prototype.is=function(e){var t=ar(e)?this._subtype:Vr(e)?Yn(e,!1):this.preProcessSnapshot(e);return 0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length},t}(rr);var ui,ci="Map.put can only be used to store complex values that have an identifier type attribute";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(ui||(ui={}));var pi=function(e){function t(t){return e.call(this,t,Ae.ref.enhancer)||this}return Hn(t,e),t.prototype.get=function(t){return e.prototype.get.call(this,""+t)},t.prototype.has=function(t){return e.prototype.has.call(this,""+t)},t.prototype.delete=function(t){return e.prototype.delete.call(this,""+t)},t.prototype.set=function(t,n){return e.prototype.set.call(this,""+t,n)},t.prototype.put=function(e){if(!e)throw Lr("Map.put cannot be used to set empty values");if(Vr(e)){var t=Pr(e);if(Zr()&&!t.identifierAttribute)throw Lr(ci);if(null===t.identifier)throw Lr(ci);return this.set(t.identifier,e),e}if(Fr(e)){var n=Pr(this),r=n.type;if(r.identifierMode!==ui.YES)throw Lr(ci);var i=e[r.mapIdentifierAttribute];if(!no(i)){var o=this.put(r.getChildType().create(e,n.environment));return this.put(Yn(o))}var a=to(i);return this.set(a,e),this.get(a)}throw Lr("Map.put can only be used to store complex values")},t}(bn),li=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return i._subType=n,i.identifierMode=ui.UNKNOWN,i.mapIdentifierAttribute=void 0,i.flags=Xn.Map,i.hookInitializers=[],i._determineIdentifierMode(),i.hookInitializers=r,i}return Hn(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return this._determineIdentifierMode(),Sr(this,e,t,n,r)},t.prototype._determineIdentifierMode=function(){if(this.identifierMode===ui.UNKNOWN){var e=[];if(function e(t,n){var r,i,o=t.getSubTypes();if("cannotDetermine"===o)return!1;if(o){var a=Hr(o);try{for(var s=$n(a),u=s.next();!u.done;u=s.next()){if(!e(u.value,n))return!1}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return t instanceof mi&&n.push(t),!0}(this._subType,e)){var t=void 0;e.forEach((function(e){if(e.identifierAttribute){if(t&&t!==e.identifierAttribute)throw Lr("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier");t=e.identifierAttribute}})),t?(this.identifierMode=ui.YES,this.mapIdentifierAttribute=t):this.identifierMode=ui.NO}}},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach((function(i){r[i]=n.instantiate(e,i,void 0,t[i])})),r},t.prototype.createNewInstance=function(e){return new pi(e)},t.prototype.finalizeNewInstance=function(e,t){Mt(t,e.unbox),e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=fr(t,e,r);(Zr()?Wr:qr)(t,e,i)}))})),Ut(t,this.willChange),Kt(t,this.didChange)},t.prototype.describe=function(){return"Map<string, "+this._subType.describe()+">"},t.prototype.getChildren=function(e){return qt(e.storedValue)},t.prototype.getChildNode=function(e,t){var n=e.storedValue.get(""+t);if(!n)throw Lr("Not a child "+t);return n},t.prototype.willChange=function(e){var t=Pr(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,i=r._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(n))return null;wr(i,o),e.newValue=i.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":wr(i,e.newValue),e.newValue=i.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e},t.prototype.processIdentifier=function(e,t){if(this.identifierMode===ui.YES&&t instanceof nr){var n=t.identifier;if(n!==e)throw Lr("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}},t.prototype.getSnapshot=function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),t},t.prototype.didChange=function(e){var t=Pr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:ii(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:ii(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:ii(e.name),oldValue:n},t)}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}},t.prototype.applySnapshot=function(e,t){wr(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach((function(e){r[e]=!1})),t)for(var i in t)n.set(i,t[i]),r[""+i]=!0;Object.keys(r).forEach((function(e){!1===r[e]&&n.delete(e)}))},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return Br(e)?_r(Object.keys(e).map((function(r){return n._subType.validate(e[r],br(t,r,n._subType))}))):mr(t,e,"Value is not a plain object")},t.prototype.getDefaultSnapshot=function(){return kr},t.prototype.removeChild=function(e,t){e.storedValue.delete(t)},Fn([xt],t.prototype,"applySnapshot",null),t}(ir);var hi=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return i._subType=n,i.flags=Xn.Array,i.hookInitializers=[],i.hookInitializers=r,i}return Hn(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return Sr(this,e,t,n,r)},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach((function(t,i){var o=""+i;r[o]=n.instantiate(e,o,void 0,t)})),r},t.prototype.createNewInstance=function(e){return Ae.array(Ir(e),Rr)},t.prototype.finalizeNewInstance=function(e,t){Dn(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=fr(t,e,r);(Zr()?Wr:qr)(t,e,i)}))})),Ut(t,this.willChange),Kt(t,this.didChange)},t.prototype.describe=function(){return this._subType.describe()+"[]"},t.prototype.getChildren=function(e){return e.storedValue.slice()},t.prototype.getChildNode=function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw Lr("Not a child: "+t)},t.prototype.willChange=function(e){var t=Pr(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=fi(t,n,[r[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,s=e.added,u=fi(t,n,r.slice(o,o+a),s,s.map((function(e,t){return o+t})));if(!u)return null;e.added=u;for(var c=o+a;c<r.length;c++)r[c].setParent(t,""+(c+s.length-a))}return e},t.prototype.getSnapshot=function(e){return e.getChildren().map((function(e){return e.snapshot}))},t.prototype.processInitialSnapshot=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n].getSnapshot())})),t},t.prototype.didChange=function(e){var t=Pr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue,i="-"===t?r.length:Number(t);switch(n.op){case"replace":r[i]=n.value;break;case"add":r.splice(i,0,n.value);break;case"remove":r.splice(i,1)}},t.prototype.applySnapshot=function(e,t){wr(this,t),e.storedValue.replace(t)},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return Ur(e)?_r(e.map((function(e,r){return n._subType.validate(e,br(t,""+r,n._subType))}))):mr(t,e,"Value is not an array")},t.prototype.getDefaultSnapshot=function(){return Cr},t.prototype.removeChild=function(e,t){e.storedValue.splice(Number(t),1)},Fn([xt],t.prototype,"applySnapshot",null),t}(ir);function fi(e,t,n,r,i){for(var o,a=!0,s=0;;s++){var u=s<=r.length-1,c=n[s],p=u?r[s]:void 0,l=""+i[s];if(((o=p)instanceof Qn||o instanceof nr)&&(p=p.storedValue),!c&&!u)break;if(u)if(c)if(vi(c,p))n[s]=di(t,e,l,p,c);else{for(var h=void 0,f=s;f<n.length;f++)if(vi(n[f],p)){h=n.splice(f,1)[0];break}a=!1;d=di(t,e,l,p,h);n.splice(s,0,d)}else{if(Vr(p)&&Pr(p).parent===e)throw Lr("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+l+"', but it lives already at '"+Pr(p).path+"'");a=!1;var d=di(t,e,l,p);n.splice(s,0,d)}else a=!1,n.splice(s,1),c instanceof nr&&c.createObservableInstanceIfNeeded(),c.die(),s--}return a?null:n}function di(e,t,n,r,i){wr(e,r);var o=function(){if(Vr(r)){var o=Pr(r);if(o.assertAlive(kr),null!==o.parent&&o.parent===t)return o.setParent(t,n),o}return i?e.reconcile(i,r,t,n):e.instantiate(t,n,void 0,r)}();return i&&i!==o&&(i instanceof nr&&i.createObservableInstanceIfNeeded(),i.die()),o}function vi(e,t){if(!e.isAlive)return!1;if(Vr(t)){var n=Pr(t);return n.isAlive&&n===e}return e.snapshot===t||e instanceof nr&&null!==e.identifier&&e.identifierAttribute&&Br(t)&&e.identifier===to(t[e.identifierAttribute])&&e.type.is(t)}function yi(){return Pr(this).toString()}var bi={name:"AnonymousModel",properties:{},initializers:Cr};function gi(e){return Object.keys(e).reduce((function(e,t){var n,r,i;if(t in Mn)throw Lr("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var o=Object.getOwnPropertyDescriptor(e,t);if("get"in o)throw Lr("Getters are not supported as properties. Please use views instead");var a=o.value;if(null==a)throw Lr("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if($r(a))return Object.assign({},e,((n={})[t]=Ri(function(e){switch(typeof e){case"string":return Ei;case"number":return Ni;case"boolean":return Si;case"object":if(e instanceof Date)return Pi}throw Lr("Cannot determine primitive type from value "+e)}(a),a),n));if(a instanceof li)return Object.assign({},e,((r={})[t]=Ri(a,{}),r));if(a instanceof hi)return Object.assign({},e,((i={})[t]=Ri(a,[]),i));if(ar(a))return e;throw Zr()&&"function"==typeof a?Lr("Invalid type definition for property '"+t+"', it looks like you passed a function. Did you forget to invoke it, or did you intend to declare a view / action?"):Zr()&&"object"==typeof a?Lr("Invalid type definition for property '"+t+"', it looks like you passed an object. Try passing another model type or a types.frozen."):Lr("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+a+"' ("+typeof a+")")}),e)}var mi=function(e){function t(t){var n=e.call(this,t.name||bi.name)||this;return n.flags=Xn.Object,n.named=function(e){return n.cloneAndEnhance({name:e})},n.props=function(e){return n.cloneAndEnhance({properties:e})},n.preProcessSnapshot=function(e){var t=n.preProcessor;return t?n.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):n.cloneAndEnhance({preProcessor:e})},n.postProcessSnapshot=function(e){var t=n.postProcessor;return t?n.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):n.cloneAndEnhance({postProcessor:e})},Object.assign(n,bi,t),n.properties=gi(n.properties),Gr(n.properties),n.propertyNames=Object.keys(n.properties),n.identifierAttribute=n._getIdentifierAttribute(),n}return Hn(t,e),t.prototype._getIdentifierAttribute=function(){var e=void 0;return this.forAllProps((function(t,n){if(n.flags&Xn.Identifier){if(e)throw Lr("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e},t.prototype.cloneAndEnhance=function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})},t.prototype.actions=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})},t.prototype.instantiateActions=function(e,t){if(!Br(t))throw Lr("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(n){if("preProcessSnapshot"===n)throw Lr("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===n)throw Lr("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var r=t[n],i=e[n];if(n in Mn&&i){var o=r;r=function(){i.apply(null,arguments),o.apply(null,arguments)}}var a=r.$mst_middleware,s=r.bind(t);s.$mst_middleware=a;var u=fr(e,n,s);t[n]=u,(Zr()?Wr:qr)(e,n,u)}))},t.prototype.volatile=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})},t.prototype.instantiateVolatileState=function(e,t){if(!Br(t))throw Lr("volatile state initializer should return a plain object containing state");Wt(e,t)},t.prototype.extend=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),i=r.actions,o=r.views,a=r.state,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["actions","views","state"]);for(var u in s)throw Lr("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+u+"'");return a&&t.instantiateVolatileState(n,a),o&&t.instantiateViews(n,o),i&&t.instantiateActions(n,i),n}]})},t.prototype.views=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})},t.prototype.instantiateViews=function(e,t){if(!Br(t))throw Lr("views initializer should return a plain object containing views");Object.keys(t).forEach((function(n){var r,i,o=Object.getOwnPropertyDescriptor(t,n);if("get"in o)if(r=e,"string"!=typeof(i=n)?H("production"!==process.env.NODE_ENV&&"isComputed expected a property name as second argument"):Ht(r,i)){var a=Dn(e,n);a.derivation=o.get,a.scope=e,o.set&&(a.setter=xt(a.name+"-setter",o.set))}else je(e,n,o,!0);else{if("function"!=typeof o.value)throw Lr("A view member should either be a function or getter based property");(Zr()?Wr:qr)(e,n,o.value)}}))},t.prototype.instantiate=function(e,t,n,r){return Sr(this,e,t,n,Vr(r)?r:this.applySnapshotPreProcessor(r))},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps((function(n,i){r[n]=i.instantiate(e,n,void 0,t[n])})),r},t.prototype.createNewInstance=function(e){return Ae.object(e,kr,Rr)},t.prototype.finalizeNewInstance=function(e,t){qr(t,"toString",yi),this.forAllProps((function(n){Mt(t,n,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),Ut(t,this.willChange),Kt(t,this.didChange)},t.prototype.willChange=function(e){var t=e,n=Pr(t.object),r=t.name;n.assertWritable({subpath:r});var i=n.type.properties[r];return i&&(wr(i,t.newValue),t.newValue=i.reconcile(n.getChildNode(r),t.newValue,n,r)),t},t.prototype.didChange=function(e){var t=e,n=Pr(t.object);if(n.type.properties[t.name]){var r=t.oldValue?t.oldValue.snapshot:void 0;n.emitPatch({op:"replace",path:ii(t.name),value:t.newValue.snapshot,oldValue:r},n)}},t.prototype.getChildren=function(e){var t=this,n=[];return this.forAllProps((function(r){n.push(t.getChildNode(e,r))})),n},t.prototype.getChildNode=function(e,t){if(!(t in this.properties))throw Lr("Not a value property: "+t);var n=Dn(e.storedValue,t).value;if(!n)throw Lr("Node not available for property "+t);return n},t.prototype.getSnapshot=function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps((function(t,i){Pn(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(r):r},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),this.applySnapshotPostProcessor(t)},t.prototype.applyPatchLocally=function(e,t,n){if("replace"!==n.op&&"add"!==n.op)throw Lr("object does not support operation "+n.op);e.storedValue[t]=n.value},t.prototype.applySnapshot=function(e,t){var n=this.applySnapshotPreProcessor(t);wr(this,n),this.forAllProps((function(t){e.storedValue[t]=n[t]}))},t.prototype.applySnapshotPreProcessor=function(e){var t=this.preProcessor;return t?t.call(null,e):e},t.prototype.applySnapshotPostProcessor=function(e){var t=this.postProcessor;return t?t.call(null,e):e},t.prototype.getChildType=function(e){return ti(e,1),this.properties[e]},t.prototype.isValidSnapshot=function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return Br(r)?_r(this.propertyNames.map((function(e){return n.properties[e].validate(r[e],br(t,e,n.properties[e]))}))):mr(t,r,"Value is not a plain object")},t.prototype.forAllProps=function(e){var t=this;this.propertyNames.forEach((function(n){return e(n,t.properties[n])}))},t.prototype.describe=function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"},t.prototype.getDefaultSnapshot=function(){return kr},t.prototype.removeChild=function(e,t){e.storedValue[t]=void 0},Fn([xt],t.prototype,"applySnapshot",null),t}(ir);function _i(e){return ar(e)&&(e.flags&Xn.Object)>0}var wi=function(e){function t(t,n,r,i){void 0===i&&(i=zr);var o=e.call(this,t)||this;return o.flags=n,o.checker=r,o.initializer=i,o.flags=n,o}return Hn(t,e),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return Ar(this,e,t,n,r)},t.prototype.createNewInstance=function(e){return this.initializer(e)},t.prototype.isValidSnapshot=function(e,t){return $r(e)&&this.checker(e)?gr():mr(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))},t}(or),Ei=new wi("string",Xn.String,(function(e){return"string"==typeof e})),Ni=new wi("number",Xn.Number,(function(e){return"number"==typeof e})),Oi=new wi("integer",Xn.Integer,(function(e){return Mr(e)})),Si=new wi("boolean",Xn.Boolean,(function(e){return"boolean"==typeof e})),Ai=new wi("null",Xn.Null,(function(e){return null===e})),Vi=new wi("undefined",Xn.Undefined,(function(e){return void 0===e})),xi=new wi("Date",Xn.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));xi.getSnapshot=function(e){return e.storedValue.getTime()};var Pi=xi;var Di=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return n.flags=Xn.Literal,n.value=t,n}return Hn(t,e),t.prototype.instantiate=function(e,t,n,r){return Ar(this,e,t,n,r)},t.prototype.describe=function(){return JSON.stringify(this.value)},t.prototype.isValidSnapshot=function(e,t){return $r(e)&&e===this.value?gr():mr(t,e,"Value is not a literal "+JSON.stringify(this.value))},t}(or);function Ti(e){return Qr(e,$r,"primitive",1),new Di(e)}var ji=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._subtype=n,o._predicate=r,o._message=i,o}return Hn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Xn.Refinement},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=Vr(e)?Pr(e).snapshot:e;return this._predicate(r)?gr():mr(t,e,this._message(e))},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)},t.prototype.getSubTypes=function(){return this._subtype},t}(rr);var Ii=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i._types=n,i._eager=!0,r=Bn({eager:!0,dispatcher:void 0},r),i._dispatcher=r.dispatcher,r.eager||(i._eager=!1),i}return Hn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=Xn.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!0,configurable:!0}),t.prototype.isAssignableFrom=function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))},t.prototype.describe=function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"},t.prototype.instantiate=function(e,t,n,r){var i=this.determineType(r,void 0);if(!i)throw Lr("No matching type for union "+this.describe());return i.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){var i=this.determineType(t,e.type);if(!i)throw Lr("No matching type for union "+this.describe());return i.reconcile(e,t,n,r)},t.prototype.determineType=function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))},t.prototype.isValidSnapshot=function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return gr();r++}else n.push(o)}return 1===r?gr():mr(t,e,"No type is applicable for the union").concat(_r(n))},t.prototype.getSubTypes=function(){return this._types},t}(rr);function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ar(e)?void 0:e,i=ar(e)?qn([e],t):t,o="("+i.map((function(e){return e.name})).join(" | ")+")";return Zr()&&(r&&Qr(r,(function(e){return Br(e)}),"object { eager?: boolean, dispatcher?: Function }",1),i.forEach((function(e,t){sr(e,r?t+2:t+1)}))),new Ii(o,i,r)}var ki=function(e){function t(t,n,r){var i=e.call(this,t.name)||this;return i._subtype=t,i._defaultValue=n,i.optionalValues=r,i}return Hn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Xn.Optional},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return this._subtype.describe()+"?"},t.prototype.instantiate=function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,i)}return this._subtype.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)},t.prototype.getDefaultInstanceOrSnapshot=function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&wr(this,e),e},t.prototype.isValidSnapshot=function(e,t){return this.optionalValues.indexOf(e)>=0?gr():this._subtype.validate(e,t)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.getSubTypes=function(){return this._subtype},t}(rr);function Ri(e,t,n){return function(e,t){if("function"!=typeof t&&Vr(t))throw Lr("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");sr(e,1),Zr()&&"function"!=typeof t&&wr(e,t)}(e,t),new ki(e,t,n||Li)}var Li=[void 0],zi=Ri(Vi,void 0),Mi=Ri(Ai,null);function Ui(e){return sr(e,1),Ci(e,zi)}var Hi=function(e){function t(t,n){var r=e.call(this,t)||this;return r._definition=n,r}return Hn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|Xn.Late},enumerable:!0,configurable:!0}),t.prototype.getSubType=function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw Lr("Late type seems to be used too early, the definition (still) returns undefined");if(t){if(Zr()&&!ar(t))throw Lr("Failed to determine subtype, make sure types.late returns a type definition.");this._subType=t}}return this._subType},t.prototype.instantiate=function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)},t.prototype.describe=function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"},t.prototype.isValidSnapshot=function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):gr()},t.prototype.isAssignableFrom=function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)},t.prototype.getSubTypes=function(){var e=this.getSubType(!1);return e||"cannotDetermine"},t}(rr);var Bi=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return n.subType=t,n.flags=Xn.Frozen,n}return Hn(t,e),t.prototype.describe=function(){return"<any immutable value>"},t.prototype.instantiate=function(e,t,n,r){return Ar(this,e,t,n,function e(t){return Zr()?(Gr(t),Br(t)&&Object.keys(t).forEach((function(n){$r(t[n])||Object.isFrozen(t[n])||e(t[n])})),t):t}(r))},t.prototype.isValidSnapshot=function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):gr():mr(t,e,"Value is not serializable and cannot be frozen")},t}(or),Fi=new Bi;var $i=function(){function e(e,t){if(this.targetType=t,no(e))this.identifier=e;else{if(!Vr(e))throw Lr("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=Pr(e);if(!n.identifierAttribute)throw Lr("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)throw Lr("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return e.prototype.updateResolvedReference=function(e){var t=to(this.identifier),n=e.root,r=n.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var i=this.targetType,o=n.identifierCache.resolve(i,t);if(!o)throw new Gi("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:r}}},Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!0,configurable:!0}),e}(),Gi=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Hn(t,e),t}(Error),qi=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return r.targetType=t,r.onInvalidated=n,r.flags=Xn.Reference,r}return Hn(t,e),t.prototype.describe=function(){return this.name},t.prototype.isAssignableFrom=function(e){return this.targetType.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){return no(e)?gr():mr(t,e,"Value is not a valid identifier, which is a string or a number")},t.prototype.fireInvalidated=function(e,t,n,r){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){Kn(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){_i(i.type)?this.replaceRef(void 0):Kn(t.root.storedValue,{op:"remove",path:t.path})}})}},t.prototype.addTargetNodeWatcher=function(e,t){var n=this,r=this.getValue(e);if(r){var i=Pr(r),o=function(r,o){var a=function(e){switch(e){case Mn.beforeDestroy:return"destroy";case Mn.beforeDetach:return"detach";default:return}}(o);a&&n.fireInvalidated(a,e,t,i)},a=i.registerHook(Mn.beforeDetach,o),s=i.registerHook(Mn.beforeDestroy,o);return function(){a(),s()}}},t.prototype.watchTargetNodeForInvalidations=function(e,t,n){var r=this;if(this.onInvalidated){var i;e.registerHook(Mn.beforeDestroy,(function(){i&&i()}));var o=function(o){i&&i();var a=e.parent,s=a&&a.storedValue;if(a&&a.isAlive&&s){(n?!!n.get(t,s):e.root.identifierCache.has(r.targetType,to(t)))?i=r.addTargetNodeWatcher(e,t):o||r.fireInvalidated("invalidSnapshotReference",e,t,null)}};e.state===Er.FINALIZED?o(!0):(e.isRoot||e.root.registerHook(Mn.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(Mn.afterAttach,(function(){o(!1)})))}},t}(or),Wi=function(e){function t(t,n){return e.call(this,t,n)||this}return Hn(t,e),t.prototype.getValue=function(e){if(e.isAlive)return e.storedValue.resolvedValue},t.prototype.getSnapshot=function(e){return e.storedValue.identifier},t.prototype.instantiate=function(e,t,n,r){var i,o=Vr(r)?(xr(i=r,1),Pr(i).identifier):r,a=new $i(r,this.targetType),s=Ar(this,e,t,n,a);return a.node=s,this.watchTargetNodeForInvalidations(s,o,void 0),s},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this){var i=Vr(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(n,r),e}var a=this.instantiate(n,r,void 0,t);return e.die(),a},t}(qi),Ki=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return i.options=n,i}return Hn(t,e),t.prototype.getValue=function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.instantiate=function(e,t,n,r){var i=Vr(r)?this.options.set(r,e?e.storedValue:null):r,o=Ar(this,e,t,n,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o},t.prototype.reconcile=function(e,t,n,r){var i=Vr(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(n,r),e;var o=this.instantiate(n,r,void 0,i);return e.die(),o},t}(qi);function Yi(e,t){if(sr(e,1),Zr()&&2===arguments.length&&"string"==typeof arguments[1])throw Lr("References with base path are no longer supported. Please remove the base path.");var n=t||void 0,r=t?t.onInvalidated:void 0;if(n&&(n.get||n.set)){if(Zr()&&(!n.get||!n.set))throw Lr("reference options must either contain both a 'get' and a 'set' method or none of them");return new Ki(e,{get:n.get,set:n.set},r)}return new Wi(e,r)}var Ji=function(e){function t(t,n){var r=e.call(this,t)||this;return r.validType=n,r.flags=Xn.Identifier,r}return Hn(t,e),t.prototype.instantiate=function(e,t,n,r){if(!(e&&e.type instanceof mi))throw Lr("Identifier types can only be instantiated as direct child of a model type");return Ar(this,e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){if(e.storedValue!==t)throw Lr("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e},t.prototype.isValidSnapshot=function(e,t){return typeof e!==this.validType?mr(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):gr()},t}(or),Xi=function(e){function t(){var t=e.call(this,"identifier","string")||this;return t.flags=Xn.Identifier,t}return Hn(t,e),t.prototype.describe=function(){return"identifier"},t}(Ji),Zi=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return Hn(t,e),t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.describe=function(){return"identifierNumber"},t}(Ji),Qi=new Xi,eo=new Zi;function to(e){return""+e}function no(e){return"string"==typeof e||"number"==typeof e}var ro=function(e){function t(t){var n=e.call(this,t.name)||this;return n.options=t,n.flags=Xn.Custom,n}return Hn(t,e),t.prototype.describe=function(){return this.name},t.prototype.isValidSnapshot=function(e,t){if(this.options.isTargetType(e))return gr();var n=this.options.getValidationMessage(e);return n?mr(t,e,"Invalid value for type '"+this.name+"': "+n):gr()},t.prototype.getSnapshot=function(e){return this.options.toSnapshot(e.storedValue)},t.prototype.instantiate=function(e,t,n,r){return Ar(this,e,t,n,this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment))},t.prototype.reconcile=function(e,t,n,r){var i=!this.options.isTargetType(t);if(!e.isDetaching&&(e.type===this&&(i?t===e.snapshot:t===e.storedValue)))return e.setParent(n,r),e;var o=i?this.options.fromSnapshot(t,n.root.environment):t,a=this.instantiate(n,r,void 0,o);return e.die(),a},t}(or),io={enumeration:function(e,t){var n="string"==typeof e?t:e;Zr()&&n.forEach((function(e,t){ti(e,t+1)}));var r=Ci.apply(void 0,qn(n.map((function(e){return Ti(""+e)}))));return"string"==typeof e&&(r.name=e),r},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new mi({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),Zr()&&e.forEach((function(e,t){Qr(e,_i,"mobx-state-tree model type",n?t+2:t+1)})),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})})).named(r)},custom:function(e){return new ro(e)},reference:Yi,safeReference:function(e,t){var n=Yi(e,Bn(Bn({},t),{onInvalidated:function(e){e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:Ui(n)},union:Ci,optional:Ri,literal:Ti,maybe:Ui,maybeNull:function(e){return sr(e,1),Ci(e,Mi)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():ar(e[0])?e[0].name:null,r=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return sr(r,[1,2]),ti(n,1),ei(i,[2,3]),ei(o,[3,4]),new ji(n,r,i,o)},string:Ei,boolean:Si,number:Ni,integer:Oi,Date:Pi,map:function(e){return new li("map<string, "+e.name+">",e)},array:function(e){return sr(e,1),new hi(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?Fi:ar(e)?new Bi(e):Ri(Fi,e)},identifier:Qi,identifierNumber:eo,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")",r="string"==typeof e?t:e;if(Zr()&&("function"!=typeof r||0!==r.length))throw Lr("Invalid late type, expected a function with zero arguments that returns a type, got: "+r);return new Hi(n,r)},undefined:Vi,null:Ai,snapshotProcessor:function(e,t,n){if(sr(e,1),Zr()){if(t.postProcessor&&"function"!=typeof t.postProcessor)throw fail("postSnapshotProcessor must be a function");if(t.preProcessor&&"function"!=typeof t.preProcessor)throw fail("preSnapshotProcessor must be a function")}return new si(e,t,n)}};
/**
     * @license
     * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class oo{constructor(e){this.classes=new Set,this.changed=!1,this.element=e;const t=(e.getAttribute("class")||"").split(/\s+/);for(const e of t)this.classes.add(e)}add(e){this.classes.add(e),this.changed=!0}remove(e){this.classes.delete(e),this.changed=!0}commit(){if(this.changed){let e="";this.classes.forEach(t=>e+=t+" "),this.element.setAttribute("class",e)}}}const ao=new WeakMap,so=(uo=e=>t=>{if(!(t instanceof _)||t instanceof O||"class"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=t,{element:r}=n;let i=ao.get(t);void 0===i&&(r.setAttribute("class",n.strings.join(" ")),ao.set(t,i=new Set));const o=r.classList||new oo(r);i.forEach(t=>{t in e||(o.remove(t),i.delete(t))});for(const t in e){const n=e[t];n!=i.has(t)&&(n?(o.add(t),i.add(t)):(o.remove(t),i.delete(t)))}"function"==typeof o.commit&&o.commit()},(...t)=>{const n=uo(...t);return e.set(n,!0),n});var uo;const co=e=>[...Array(Math.round(e)).keys()],po=e=>Math.floor(Math.random()*e),lo=io.model("Labels",{list:io.array(io.string),freeIndex:io.optional(io.number,0)}).actions(e=>({add(t=""){e.list.push(t)},delete(t=null){null!==t?e.list=e.list.filter((e,n)=>n!==t):e.list.pop()},setFreeIndex(t=0){e.freeIndex=t<e.list.length?t:0}})).views(e=>({get freeLabel(){return e.list[e.freeIndex]},get numLabels(){return e.list.length}})),ho=io.model("Square",{checked:!1,free:!1,label:"Default label",col:0,row:0}).actions(e=>({check(){e.checked=!e.checked}})),fo=io.model("Board",{squares:io.array(ho),size:5}).views(e=>{function t(t="row"){return["row","col"].includes(t)?co(e.size).map(n=>e.squares.filter(e=>e[t]==n)):[]}return{get rows(){return t()},get columns(){return t("col")},get diagonals(){return co(2).map(t=>e.squares.filter(n=>t?n.row===e.size-n.col-1:n.row===n.col))},get completed(){const{rows:t,columns:n,diagonals:r}=this;return e.squares.length&&[...t,...n,...r].some(e=>e.every(e=>e.checked))}}}),vo=(e,t=5,n=!1)=>{if(t&&e.list.length){const r=1+Math.max(0,Math.floor((t**2-e.numLabels)/(e.numLabels-1))),i=co(r).flatMap(()=>(e=>{const t=[...e];for(let e=t.length-1;e>0;e--){const n=po(e+1);[t[e],t[n]]=[t[n],t[e]]}return t})(e.list.filter((t,n)=>n!==e.freeIndex))).slice(0,t**2),o=n?po(t**2):Math.floor(t**2/2);return i.splice(o,0,e.freeLabel),fo.create({squares:i.map((e,n)=>ho.create({row:Math.floor(n/t),col:n%t,label:e,free:n===o,checked:n===o})),size:t})}},yo=({check:e,checked:t,label:n,free:r})=>j`
    <button class="square ${so({checked:t,"free-square":r})}" @click=${e}>
        ${n}
    </button>
`,bo=({squares:e,size:t})=>j`
    <style>
        #board {
            display: grid;
            width: fit-content;
            background-color: var(--jsb-primary-color);
            padding: 2px;
            grid-template-columns: repeat(${t}, var(--jsb-square-size));
            grid-template-rows: repeat(${t}, var(--jsb-square-size));
        }
    </style>
    <div id="board">
        ${e.map(yo)}
    </div>
`;let go=Ae({board:fo.create({}),mode:"setup"});const mo=fo.create({}),_o=()=>{Eo.list.length&&(go.board=vo(Eo,5),go.mode="play")},wo=()=>{var e,t;e=mo,t=Yn(go.board),xr(e,1),Pr(e).applySnapshot(t),_o(),go.mode="last"},Eo=lo.create({list:window._LABELS_||[]}),No=e=>{return j`
    <div class="game-nav">
        <button
            class=${so({activated:"setup"===e.mode})}
            @click=${()=>e.mode="setup"}
        >
            Setup</button
        ><button class=${so({activated:"play"===e.mode})} @click=${_o}>
            Play
        </button>
        <button
            class=${so({activated:"last"===e.mode})}
            @click=${()=>e.mode="last"}
        >
            Last
        </button>
    </div>
    <div class="game-stage">
        <div class="game-stage-grid" style="transform: ${n=e.mode,`translateY(${["setup","play","last"].indexOf(n)/3*-100}%)`};">
            <div class="game-stage-item">
                ${(e=>j`
    <div>Current label count: ${e.numLabels}</div>
    <div>
        <label for="item-add">Add a label:</label>
        <input
            type="text"
            name="item-add"
            @change=${({target:t})=>{e.add(t.value),t.value=""}}
        />
    </div>
    <div id="label-list-container">
        ${e.list.map((t,n)=>j`<span
                        class="label-item ${so({free:n===e.freeIndex})}"
                        @click=${()=>{e.setFreeIndex(n)}}
                    >
                        ${t}
                    </span>
                    <button
                        @click=${()=>{e.delete(n)}}
                    >
                        X
                    </button>`)}
    </div>
`)(Eo)}
            </div>
            <div class="game-stage-item">
                ${bo(e.board)}
            </div>
            <div class="game-stage-item" style="pointer-events: none;">
                ${mo.squares.length?bo(mo):"No past games to display!"}
            </div>
        </div>
        ${e.board.completed?(t=wo,j`
    <style>
        #bingo-win-bg {
            position: fixed;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.9);
            top: 0;
            left: 0;
            overflow: hidden;
        }

        #bingo-win {
            top: 45vh;
            left: 50vw;
            transform: translate(-50%, -50%);
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        #bingo-win > * {
            padding: 0.5em;
        }

        @keyframes slidein {
            from {
                transform: translateY(100vh);
            }

            to {
                transform: translateY(0);
            }
        }

        @keyframes fadein {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
    <div id="bingo-win-bg">
        <div id="bingo-win" @click=${t}>
            <div
                class="outline-text"
                style="animation-duration: 0.5s; animation-name: slidein; font-size: 4em; text-align: center;"
            >
                You achieved Bingo.
            </div>
            <button
                class="outline-text"
                id="btn-restart"
                style="opacity: 0; animation-duration: 1s; animation-name: fadein; animation-delay: 0.5s; animation-fill-mode: forwards; font-size: 2em;"
            >
                True.
            </button>
        </div>
    </div>
`):j``}
    </div>
`;var t,n};Dt(()=>{((e,t,n)=>{let i=T.get(t);void 0===i&&(r(t,t.firstChild),T.set(t,i=new w(Object.assign({templateFactory:P},n))),i.appendInto(t)),i.setValue(e),i.commit()})(No(go),document.querySelector("#app"))}),Object.assign(window,{game:go})}();
